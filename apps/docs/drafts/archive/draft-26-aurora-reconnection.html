<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Syncular â€” Every Disconnect Ends in Light</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,300;0,400;0,500;0,700;1,300&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@300;400;500&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            display: ['"DM Sans"', 'system-ui', 'sans-serif'],
            mono: ['"Geist Mono"', 'monospace'],
          },
          colors: {
            aurora: {
              green: '#4ade80',
              cyan: '#22d3ee',
              purple: '#a78bfa',
              pink: '#f472b6',
            },
            void: '#030308',
          },
        },
      },
    };
  </script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'DM Sans', system-ui, sans-serif;
      background: #030308;
      color: #e2e8f0;
      overflow-x: hidden;
    }
    .font-mono { font-family: 'Geist Mono', monospace; }

    /* Aurora glow utilities */
    .aurora-glow-green {
      text-shadow: 0 0 30px rgba(74, 222, 128, 0.6), 0 0 80px rgba(74, 222, 128, 0.2);
    }
    .aurora-glow-cyan {
      text-shadow: 0 0 30px rgba(34, 211, 238, 0.6), 0 0 80px rgba(34, 211, 238, 0.2);
    }
    .aurora-glow-multi {
      text-shadow:
        0 0 20px rgba(74, 222, 128, 0.4),
        0 0 40px rgba(34, 211, 238, 0.3),
        0 0 80px rgba(167, 139, 250, 0.2);
    }

    /* Card styles */
    .aurora-card {
      background: linear-gradient(135deg, rgba(74, 222, 128, 0.04), rgba(34, 211, 238, 0.02), rgba(167, 139, 250, 0.03));
      border: 1px solid rgba(74, 222, 128, 0.12);
      transition: all 0.4s ease;
    }
    .aurora-card:hover {
      border-color: rgba(34, 211, 238, 0.3);
      box-shadow: 0 0 30px rgba(34, 211, 238, 0.08), 0 0 60px rgba(74, 222, 128, 0.04);
    }

    /* Lifecycle step glow */
    .step-active {
      box-shadow: 0 0 20px rgba(74, 222, 128, 0.3), 0 0 40px rgba(74, 222, 128, 0.1);
    }

    /* Nav */
    nav {
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }

    /* Install box */
    .install-box {
      background: linear-gradient(135deg, rgba(74, 222, 128, 0.06), rgba(167, 139, 250, 0.04));
      border: 1px solid rgba(74, 222, 128, 0.2);
    }
    .install-box:hover {
      border-color: rgba(34, 211, 238, 0.4);
      box-shadow: 0 0 40px rgba(34, 211, 238, 0.1);
    }

    /* Timeline connector */
    .timeline-line {
      background: linear-gradient(180deg, rgba(74, 222, 128, 0.6), rgba(34, 211, 238, 0.6), rgba(167, 139, 250, 0.6), rgba(244, 114, 182, 0.4));
    }

    /* Subtle pulsing */
    @keyframes softPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }
    .pulse-slow { animation: softPulse 3s ease-in-out infinite; }
    .pulse-slow-delay { animation: softPulse 3s ease-in-out 1s infinite; }

    /* Reconnect flash */
    @keyframes reconnectFlash {
      0% { opacity: 0; transform: scale(0.8); }
      20% { opacity: 1; transform: scale(1.3); }
      100% { opacity: 0; transform: scale(2); }
    }

    /* Hero canvas sits behind text */
    #aurora-canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* Sequence visualization */
    .seq-node {
      width: 10px; height: 10px;
      border-radius: 50%;
      transition: all 0.6s ease;
    }
    .seq-node.online { background: #4ade80; box-shadow: 0 0 12px rgba(74, 222, 128, 0.6); }
    .seq-node.offline { background: #374151; box-shadow: none; }
    .seq-node.syncing { background: #22d3ee; box-shadow: 0 0 18px rgba(34, 211, 238, 0.8); }
    .seq-node.aurora-moment { background: #a78bfa; box-shadow: 0 0 24px rgba(167, 139, 250, 0.8), 0 0 48px rgba(74, 222, 128, 0.4); }
  </style>
</head>
<body>

  <!-- ===== NAV ===== -->
  <nav class="fixed top-0 left-0 right-0 z-50 border-b border-white/5 bg-[#030308]/70">
    <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="#" class="flex items-center gap-2.5">
        <div class="w-7 h-7 rounded-full relative overflow-hidden" style="background: conic-gradient(from 180deg, #4ade80, #22d3ee, #a78bfa, #f472b6, #4ade80);">
          <div class="absolute inset-[3px] rounded-full bg-[#030308]"></div>
        </div>
        <span class="text-white font-medium tracking-tight text-[15px]">Syncular</span>
      </a>
      <div class="hidden md:flex items-center gap-8 text-sm text-white/50">
        <a href="#lifecycle" class="hover:text-aurora-green transition-colors">Lifecycle</a>
        <a href="#features" class="hover:text-aurora-cyan transition-colors">Features</a>
        <a href="#sequence" class="hover:text-aurora-purple transition-colors">How It Works</a>
        <a href="#install" class="hover:text-aurora-pink transition-colors">Install</a>
        <a href="https://github.com/peerful/syncular" target="_blank" class="hover:text-white transition-colors">GitHub</a>
      </div>
      <a href="#install" class="hidden md:inline-flex items-center gap-2 text-sm px-4 py-2 rounded-lg bg-aurora-green/10 text-aurora-green border border-aurora-green/20 hover:bg-aurora-green/15 transition-all">
        Get Started
      </a>
    </div>
  </nav>

  <!-- ===== HERO ===== -->
  <section class="relative min-h-screen flex flex-col items-center justify-center overflow-hidden pt-16">
    <canvas id="aurora-canvas"></canvas>

    <!-- Subtle radial overlay for depth -->
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#030308] pointer-events-none" style="z-index: 1;"></div>

    <div class="relative z-10 max-w-4xl mx-auto px-6 text-center">
      <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/[0.04] border border-white/[0.08] text-xs font-mono text-aurora-cyan/80 mb-8">
        <span class="w-1.5 h-1.5 rounded-full bg-aurora-green pulse-slow"></span>
        Offline-first sync framework
      </div>

      <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold text-white tracking-tight leading-[0.95] mb-6">
        Every disconnect<br />
        <span class="aurora-glow-multi" style="background: linear-gradient(90deg, #4ade80, #22d3ee, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">ends in light</span>
      </h1>

      <p class="text-lg md:text-xl text-white/45 max-w-2xl mx-auto mb-10 leading-relaxed font-light">
        Like aurora born from magnetic reconnection, Syncular turns every offline moment into a seamless merge.
        Nodes go dark, work locally, drift apart&mdash;then reconnect and light up the sky.
      </p>

      <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <a href="#install" class="group flex items-center gap-2 px-6 py-3 rounded-lg bg-aurora-green/15 text-aurora-green border border-aurora-green/25 hover:bg-aurora-green/20 hover:border-aurora-green/40 transition-all text-sm font-medium">
          Start syncing
          <svg class="w-4 h-4 group-hover:translate-x-0.5 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
        </a>
        <a href="#sequence" class="flex items-center gap-2 px-6 py-3 rounded-lg text-white/50 hover:text-white/70 border border-white/10 hover:border-white/20 transition-all text-sm">
          See the reconnection
        </a>
      </div>
    </div>

    <!-- Scroll hint -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex flex-col items-center gap-2 text-white/20">
      <span class="text-xs font-mono">scroll</span>
      <div class="w-px h-8 bg-gradient-to-b from-white/20 to-transparent"></div>
    </div>
  </section>

  <!-- ===== LIFECYCLE: Offline -> Reconnect Flow ===== -->
  <section id="lifecycle" class="relative py-32 px-6">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-20">
        <span class="inline-block text-xs font-mono text-aurora-green/60 tracking-widest uppercase mb-4">The Offline-First Lifecycle</span>
        <h2 class="text-4xl md:text-5xl font-bold text-white tracking-tight mb-4">
          Darkness is not failure
        </h2>
        <p class="text-white/40 max-w-xl mx-auto text-lg font-light">
          Every phase of disconnection is part of the design. Like charged particles spiraling toward reconnection, your data flows through five inevitable stages.
        </p>
      </div>

      <!-- Lifecycle Steps -->
      <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
        <!-- Step 1: Write Offline -->
        <div class="aurora-card rounded-xl p-6 text-center group">
          <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center bg-aurora-green/10 border border-aurora-green/20 group-hover:border-aurora-green/40 transition-all">
            <svg class="w-5 h-5 text-aurora-green" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2 text-sm">Write Offline</h3>
          <p class="text-white/35 text-xs leading-relaxed">Full read/write locally. No server needed. The client is sovereign.</p>
          <div class="mt-4 mx-auto w-8 h-0.5 rounded bg-aurora-green/30"></div>
        </div>

        <!-- Arrow (hidden on mobile) -->
        <div class="hidden md:flex items-center justify-center -mx-4 relative" style="grid-column: span 1; display: none;">
        </div>

        <!-- Step 2: Queue Mutations -->
        <div class="aurora-card rounded-xl p-6 text-center group" style="border-color: rgba(34, 211, 238, 0.12);">
          <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center bg-aurora-cyan/10 border border-aurora-cyan/20 group-hover:border-aurora-cyan/40 transition-all">
            <svg class="w-5 h-5 text-aurora-cyan" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2 text-sm">Queue Mutations</h3>
          <p class="text-white/35 text-xs leading-relaxed">Changes stack in the outbox. Every edit is a charged particle waiting for the field to align.</p>
          <div class="mt-4 mx-auto w-8 h-0.5 rounded bg-aurora-cyan/30"></div>
        </div>

        <!-- Step 3: Reconnect -->
        <div class="aurora-card rounded-xl p-6 text-center group" style="border-color: rgba(167, 139, 250, 0.12);">
          <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center bg-aurora-purple/10 border border-aurora-purple/20 group-hover:border-aurora-purple/40 transition-all">
            <svg class="w-5 h-5 text-aurora-purple" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M8.288 15.038a5.25 5.25 0 017.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 011.06 0z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2 text-sm">Reconnect</h3>
          <p class="text-white/35 text-xs leading-relaxed">Network returns. Field lines reach toward each other. The magnetic reconnection begins.</p>
          <div class="mt-4 mx-auto w-8 h-0.5 rounded bg-aurora-purple/30"></div>
        </div>

        <!-- Step 4: Merge -->
        <div class="aurora-card rounded-xl p-6 text-center group" style="border-color: rgba(244, 114, 182, 0.12);">
          <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center bg-aurora-pink/10 border border-aurora-pink/20 group-hover:border-aurora-pink/40 transition-all">
            <svg class="w-5 h-5 text-aurora-pink" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2 text-sm">Merge</h3>
          <p class="text-white/35 text-xs leading-relaxed">Push local changes, pull remote. Conflicts resolve deterministically. Energy releases.</p>
          <div class="mt-4 mx-auto w-8 h-0.5 rounded bg-aurora-pink/30"></div>
        </div>

        <!-- Step 5: Consistent -->
        <div class="aurora-card rounded-xl p-6 text-center group" style="border-color: rgba(74, 222, 128, 0.15); background: linear-gradient(135deg, rgba(74, 222, 128, 0.06), rgba(34, 211, 238, 0.04), rgba(167, 139, 250, 0.03));">
          <div class="w-12 h-12 rounded-full mx-auto mb-4 flex items-center justify-center border border-aurora-green/30 group-hover:border-aurora-green/50 transition-all" style="background: linear-gradient(135deg, rgba(74, 222, 128, 0.15), rgba(34, 211, 238, 0.1));">
            <svg class="w-5 h-5 text-aurora-green" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2 text-sm">Consistent</h3>
          <p class="text-white/35 text-xs leading-relaxed">Every node sees the same state. The aurora shimmers. Until the next beautiful disconnect.</p>
          <div class="mt-4 mx-auto w-8 h-0.5 rounded" style="background: linear-gradient(90deg, rgba(74, 222, 128, 0.4), rgba(34, 211, 238, 0.3), rgba(167, 139, 250, 0.3));"></div>
        </div>
      </div>

      <!-- Connecting arrows between steps (desktop only) -->
      <div class="hidden md:flex justify-between max-w-5xl mx-auto mt-[-220px] mb-[180px] px-[60px] pointer-events-none" aria-hidden="true">
        <svg class="w-8 h-4 text-aurora-green/30" viewBox="0 0 32 16" fill="none"><path d="M0 8h28m0 0l-6-6m6 6l-6 6" stroke="currentColor" stroke-width="1.5"/></svg>
        <svg class="w-8 h-4 text-aurora-cyan/30" viewBox="0 0 32 16" fill="none"><path d="M0 8h28m0 0l-6-6m6 6l-6 6" stroke="currentColor" stroke-width="1.5"/></svg>
        <svg class="w-8 h-4 text-aurora-purple/30" viewBox="0 0 32 16" fill="none"><path d="M0 8h28m0 0l-6-6m6 6l-6 6" stroke="currentColor" stroke-width="1.5"/></svg>
        <svg class="w-8 h-4 text-aurora-pink/30" viewBox="0 0 32 16" fill="none"><path d="M0 8h28m0 0l-6-6m6 6l-6 6" stroke="currentColor" stroke-width="1.5"/></svg>
      </div>
    </div>
  </section>

  <!-- ===== FEATURES ===== -->
  <section id="features" class="relative py-32 px-6">
    <!-- Faint aurora band behind features -->
    <div class="absolute top-0 left-0 right-0 h-px" style="background: linear-gradient(90deg, transparent, rgba(74, 222, 128, 0.2), rgba(34, 211, 238, 0.2), rgba(167, 139, 250, 0.15), transparent);"></div>

    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-20">
        <span class="inline-block text-xs font-mono text-aurora-cyan/60 tracking-widest uppercase mb-4">Built for the Real World</span>
        <h2 class="text-4xl md:text-5xl font-bold text-white tracking-tight mb-4">
          The full spectrum
        </h2>
        <p class="text-white/40 max-w-xl mx-auto text-lg font-light">
          Everything you need to build apps that work beautifully online, offline, and everywhere in between.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">

        <!-- Feature 1 -->
        <div class="aurora-card rounded-xl p-7">
          <div class="text-aurora-green text-xl mb-4">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2">Local-First Storage</h3>
          <p class="text-white/35 text-sm leading-relaxed">SQLite on every client. Full relational queries, no round trips. Your app works at the speed of local disk.</p>
        </div>

        <!-- Feature 2 -->
        <div class="aurora-card rounded-xl p-7" style="border-color: rgba(34, 211, 238, 0.12);">
          <div class="text-aurora-cyan text-xl mb-4">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21L3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2">Commit-Log Sync</h3>
          <p class="text-white/35 text-sm leading-relaxed">Append-only operations log. Push and pull like git. Every mutation is tracked, ordered, and mergeable.</p>
        </div>

        <!-- Feature 3 -->
        <div class="aurora-card rounded-xl p-7" style="border-color: rgba(167, 139, 250, 0.12);">
          <div class="text-aurora-purple text-xl mb-4">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2">Conflict Resolution</h3>
          <p class="text-white/35 text-sm leading-relaxed">Deterministic last-write-wins by default, or define custom merge strategies. No data lost, ever.</p>
        </div>

        <!-- Feature 4 -->
        <div class="aurora-card rounded-xl p-7" style="border-color: rgba(244, 114, 182, 0.12);">
          <div class="text-aurora-pink text-xl mb-4">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2">Realtime Wake-ups</h3>
          <p class="text-white/35 text-sm leading-relaxed">WebSocket presence and change notifications. When another node pushes, yours pulls instantly.</p>
        </div>

        <!-- Feature 5 -->
        <div class="aurora-card rounded-xl p-7" style="border-color: rgba(74, 222, 128, 0.15);">
          <div class="text-aurora-green text-xl mb-4">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2">End-to-End Encryption</h3>
          <p class="text-white/35 text-sm leading-relaxed">Optional E2EE plugin. The server syncs ciphertext it can never read. Zero-knowledge by design.</p>
        </div>

        <!-- Feature 6 -->
        <div class="aurora-card rounded-xl p-7" style="border-color: rgba(34, 211, 238, 0.15);">
          <div class="text-aurora-cyan text-xl mb-4">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.421 48.421 0 01-4.185-.428c-.512-.084-.939-.39-1.094-.874a3.746 3.746 0 01-.16-.811 3.75 3.75 0 013.427-3.882 7.518 7.518 0 014.929 0 3.75 3.75 0 013.427 3.882c-.02.29-.076.572-.16.811-.155.484-.582.79-1.094.874a48.4 48.4 0 01-4.185.428.64.64 0 01-.657-.643v0zM12 11.882v0c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.035-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.421 48.421 0 01-4.185-.428c-.512-.084-.939-.39-1.094-.874A3.746 3.746 0 013.9 9.456a3.75 3.75 0 013.427-3.882 7.518 7.518 0 014.929 0 3.75 3.75 0 013.427 3.882c-.02.29-.076.572-.16.811-.155.484-.582.79-1.094.874a48.4 48.4 0 01-4.185.428.64.64 0 01-.657-.643v0zM12 17.677v0c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 01-.657.643 48.421 48.421 0 01-4.185-.428c-.512-.084-.939-.39-1.094-.874a3.745 3.745 0 01-.16-.811 3.75 3.75 0 013.427-3.882 7.518 7.518 0 014.929 0 3.75 3.75 0 013.427 3.882c-.02.29-.076.572-.16.811-.155.484-.582.79-1.094.874a48.4 48.4 0 01-4.185.428.64.64 0 01-.657-.643v0z"/></svg>
          </div>
          <h3 class="text-white font-medium mb-2">React Bindings</h3>
          <p class="text-white/35 text-sm leading-relaxed">useQuery, useMutate, usePresence. Reactive hooks that render from local state and sync in the background.</p>
        </div>

      </div>
    </div>
  </section>

  <!-- ===== SEQUENCE / HOW IT WORKS ===== -->
  <section id="sequence" class="relative py-32 px-6">
    <div class="absolute top-0 left-0 right-0 h-px" style="background: linear-gradient(90deg, transparent, rgba(167, 139, 250, 0.2), rgba(244, 114, 182, 0.2), rgba(74, 222, 128, 0.15), transparent);"></div>

    <div class="max-w-4xl mx-auto">
      <div class="text-center mb-20">
        <span class="inline-block text-xs font-mono text-aurora-purple/60 tracking-widest uppercase mb-4">The Reconnection Sequence</span>
        <h2 class="text-4xl md:text-5xl font-bold text-white tracking-tight mb-4">
          Magnetic reconnection
        </h2>
        <p class="text-white/40 max-w-xl mx-auto text-lg font-light">
          Watch how a client disconnects, works in isolation, then reconnects and merges. The energy release is the aurora moment.
        </p>
      </div>

      <!-- Timeline -->
      <div class="relative">
        <!-- Vertical line -->
        <div class="absolute left-8 md:left-1/2 md:-translate-x-px top-0 bottom-0 w-0.5 timeline-line rounded-full"></div>

        <!-- Step 1: Online & Synced -->
        <div class="relative flex flex-col md:flex-row items-start mb-16 group">
          <div class="md:w-1/2 md:pr-12 md:text-right pl-20 md:pl-0">
            <span class="font-mono text-xs text-aurora-green/60">t=0</span>
            <h3 class="text-white font-medium text-lg mt-1 mb-2">Connected & synced</h3>
            <p class="text-white/35 text-sm leading-relaxed">All nodes see the same state. Field lines are aligned. The system hums in equilibrium.</p>
          </div>
          <div class="absolute left-4 md:left-1/2 md:-translate-x-1/2 w-8 h-8 rounded-full bg-[#030308] border-2 border-aurora-green flex items-center justify-center" style="box-shadow: 0 0 16px rgba(74, 222, 128, 0.4);">
            <div class="w-2.5 h-2.5 rounded-full bg-aurora-green"></div>
          </div>
          <div class="md:w-1/2 md:pl-12 hidden md:block">
            <div class="flex items-center gap-3 mt-6">
              <div class="seq-node online"></div>
              <div class="w-12 h-px bg-aurora-green/30"></div>
              <div class="seq-node online"></div>
              <div class="w-12 h-px bg-aurora-green/30"></div>
              <div class="seq-node online"></div>
            </div>
            <span class="font-mono text-[10px] text-white/20 mt-2 block">all nodes bright</span>
          </div>
        </div>

        <!-- Step 2: Goes Offline -->
        <div class="relative flex flex-col md:flex-row items-start mb-16 group">
          <div class="md:w-1/2 md:pr-12 hidden md:block md:text-right">
            <div class="flex items-center gap-3 justify-end mt-6">
              <div class="seq-node online"></div>
              <div class="w-12 h-px bg-aurora-green/30"></div>
              <div class="seq-node online"></div>
              <div class="w-8 h-px bg-white/10 border-dashed" style="border-top: 1px dashed rgba(255,255,255,0.15);background:none;"></div>
              <div class="seq-node offline"></div>
            </div>
            <span class="font-mono text-[10px] text-white/20 mt-2 block text-right">one node drifts</span>
          </div>
          <div class="absolute left-4 md:left-1/2 md:-translate-x-1/2 w-8 h-8 rounded-full bg-[#030308] border-2 border-white/20 flex items-center justify-center">
            <div class="w-2.5 h-2.5 rounded-full bg-white/20"></div>
          </div>
          <div class="md:w-1/2 md:pl-12 pl-20">
            <span class="font-mono text-xs text-white/30">t=1</span>
            <h3 class="text-white font-medium text-lg mt-1 mb-2">Client goes offline</h3>
            <p class="text-white/35 text-sm leading-relaxed">Network drops. A field line snaps. The node dims and separates. But it doesn't stop working.</p>
          </div>
        </div>

        <!-- Step 3: Local Writes -->
        <div class="relative flex flex-col md:flex-row items-start mb-16 group">
          <div class="md:w-1/2 md:pr-12 md:text-right pl-20 md:pl-0">
            <span class="font-mono text-xs text-aurora-cyan/60">t=2</span>
            <h3 class="text-white font-medium text-lg mt-1 mb-2">Local writes continue</h3>
            <p class="text-white/35 text-sm leading-relaxed">The offline client writes to its local SQLite. Mutations queue in the outbox. Charged particles accumulate, building potential energy.</p>
          </div>
          <div class="absolute left-4 md:left-1/2 md:-translate-x-1/2 w-8 h-8 rounded-full bg-[#030308] border-2 border-aurora-cyan/50 flex items-center justify-center" style="box-shadow: 0 0 12px rgba(34, 211, 238, 0.3);">
            <div class="w-2.5 h-2.5 rounded-full bg-aurora-cyan/60"></div>
          </div>
          <div class="md:w-1/2 md:pl-12 hidden md:block">
            <div class="mt-4 font-mono text-[11px] text-aurora-cyan/40 space-y-1">
              <div class="flex items-center gap-2">
                <span class="text-aurora-cyan/30">+</span>
                <span>INSERT INTO tasks ...</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-aurora-cyan/30">+</span>
                <span>UPDATE tasks SET ...</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-aurora-cyan/30">+</span>
                <span>INSERT INTO notes ...</span>
              </div>
            </div>
            <span class="font-mono text-[10px] text-white/20 mt-2 block">outbox: 3 pending</span>
          </div>
        </div>

        <!-- Step 4: Push/Pull -->
        <div class="relative flex flex-col md:flex-row items-start mb-16 group">
          <div class="md:w-1/2 md:pr-12 hidden md:block md:text-right">
            <div class="mt-4 font-mono text-[11px] space-y-1 text-right">
              <div class="text-aurora-purple/50">PUSH 3 operations ----></div>
              <div class="text-aurora-green/50">&lt;---- PULL 7 operations</div>
              <div class="text-aurora-cyan/50">MERGE: 0 conflicts</div>
            </div>
            <span class="font-mono text-[10px] text-white/20 mt-2 block text-right">field lines merging</span>
          </div>
          <div class="absolute left-4 md:left-1/2 md:-translate-x-1/2 w-8 h-8 rounded-full bg-[#030308] border-2 border-aurora-purple flex items-center justify-center" style="box-shadow: 0 0 16px rgba(167, 139, 250, 0.5);">
            <div class="w-2.5 h-2.5 rounded-full bg-aurora-purple"></div>
          </div>
          <div class="md:w-1/2 md:pl-12 pl-20">
            <span class="font-mono text-xs text-aurora-purple/60">t=3</span>
            <h3 class="text-white font-medium text-lg mt-1 mb-2">Push / Pull</h3>
            <p class="text-white/35 text-sm leading-relaxed">Connection restored. The client pushes its queued mutations, pulls remote changes. Magnetic field lines reconnect with a surge of energy.</p>
          </div>
        </div>

        <!-- Step 5: Aurora Moment -->
        <div class="relative flex flex-col md:flex-row items-start group">
          <div class="md:w-1/2 md:pr-12 md:text-right pl-20 md:pl-0">
            <span class="font-mono text-xs tracking-widest uppercase" style="background: linear-gradient(90deg, #4ade80, #22d3ee, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">t=aurora</span>
            <h3 class="text-white font-medium text-lg mt-1 mb-2">Aurora moment</h3>
            <p class="text-white/35 text-sm leading-relaxed">Everything is synced. Every node holds the same truth. The reconnection energy releases as coherent light&mdash;the aurora of consistency.</p>
          </div>
          <div class="absolute left-4 md:left-1/2 md:-translate-x-1/2 w-8 h-8 rounded-full bg-[#030308] border-2 flex items-center justify-center" style="border-color: #a78bfa; box-shadow: 0 0 20px rgba(74, 222, 128, 0.4), 0 0 40px rgba(34, 211, 238, 0.3), 0 0 60px rgba(167, 139, 250, 0.2);">
            <div class="w-2.5 h-2.5 rounded-full" style="background: linear-gradient(135deg, #4ade80, #22d3ee, #a78bfa);"></div>
          </div>
          <div class="md:w-1/2 md:pl-12 hidden md:block">
            <div class="flex items-center gap-3 mt-6">
              <div class="seq-node aurora-moment"></div>
              <div class="w-12 h-px" style="background: linear-gradient(90deg, rgba(167, 139, 250, 0.5), rgba(34, 211, 238, 0.5));"></div>
              <div class="seq-node aurora-moment" style="animation-delay: 0.1s;"></div>
              <div class="w-12 h-px" style="background: linear-gradient(90deg, rgba(34, 211, 238, 0.5), rgba(74, 222, 128, 0.5));"></div>
              <div class="seq-node aurora-moment" style="animation-delay: 0.2s;"></div>
            </div>
            <span class="font-mono text-[10px] mt-2 block" style="background: linear-gradient(90deg, #4ade80, #a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">all nodes radiant</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== INSTALL ===== -->
  <section id="install" class="relative py-32 px-6">
    <div class="absolute top-0 left-0 right-0 h-px" style="background: linear-gradient(90deg, transparent, rgba(74, 222, 128, 0.15), rgba(34, 211, 238, 0.2), rgba(167, 139, 250, 0.15), transparent);"></div>

    <div class="max-w-2xl mx-auto text-center">
      <span class="inline-block text-xs font-mono text-aurora-green/60 tracking-widest uppercase mb-4">Get Started</span>
      <h2 class="text-4xl md:text-5xl font-bold text-white tracking-tight mb-4">
        Begin the reconnection
      </h2>
      <p class="text-white/40 max-w-md mx-auto text-lg font-light mb-12">
        One command. Then your app works offline, syncs online, and handles every disconnection gracefully.
      </p>

      <!-- Install command -->
      <div class="install-box rounded-xl p-1 transition-all max-w-lg mx-auto mb-8">
        <div class="bg-[#030308] rounded-lg px-6 py-5 flex items-center justify-between gap-4">
          <code class="font-mono text-sm text-white/70 flex items-center gap-3 overflow-x-auto">
            <span class="text-aurora-green/50 select-none">$</span>
            <span>bun add <span class="text-aurora-green">@syncular/client</span> <span class="text-aurora-cyan">@syncular/server</span></span>
          </code>
          <button onclick="navigator.clipboard.writeText('bun add @syncular/client @syncular/server')" class="flex-shrink-0 text-white/30 hover:text-aurora-cyan transition-colors" title="Copy to clipboard">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9.75a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"/></svg>
          </button>
        </div>
      </div>

      <!-- Quick links -->
      <div class="flex flex-wrap items-center justify-center gap-4 text-sm">
        <a href="#" class="text-white/40 hover:text-aurora-green transition-colors flex items-center gap-1.5">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25"/></svg>
          Documentation
        </a>
        <span class="text-white/10">|</span>
        <a href="#" class="text-white/40 hover:text-aurora-cyan transition-colors flex items-center gap-1.5">
          <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0021 18V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v12a2.25 2.25 0 002.25 2.25z"/></svg>
          Examples
        </a>
        <span class="text-white/10">|</span>
        <a href="https://github.com/peerful/syncular" target="_blank" class="text-white/40 hover:text-aurora-purple transition-colors flex items-center gap-1.5">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          GitHub
        </a>
      </div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer class="border-t border-white/5 py-12 px-6">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
      <div class="flex items-center gap-2.5">
        <div class="w-5 h-5 rounded-full relative overflow-hidden" style="background: conic-gradient(from 180deg, #4ade80, #22d3ee, #a78bfa, #f472b6, #4ade80);">
          <div class="absolute inset-[2px] rounded-full bg-[#030308]"></div>
        </div>
        <span class="text-white/40 text-sm">Syncular</span>
      </div>
      <p class="text-white/20 text-xs font-mono">Every disconnect ends in light.</p>
      <div class="flex items-center gap-6 text-xs text-white/25">
        <a href="#" class="hover:text-aurora-green transition-colors">Docs</a>
        <a href="https://github.com/peerful/syncular" target="_blank" class="hover:text-aurora-cyan transition-colors">GitHub</a>
        <a href="#" class="hover:text-aurora-purple transition-colors">Discord</a>
      </div>
    </div>
  </footer>

  <!-- ===== AURORA CANVAS + NODE ANIMATION ===== -->
  <script>
    const canvas = document.getElementById('aurora-canvas');
    const ctx = canvas.getContext('2d');
    let W, H;
    let time = 0;
    let reconnectFlashAlpha = 0;
    let reconnectFlashX = 0;
    let reconnectFlashY = 0;

    function resize() {
      const section = canvas.parentElement;
      W = canvas.width = section.offsetWidth;
      H = canvas.height = section.offsetHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // Aurora colors
    const auroraColors = [
      { r: 74, g: 222, b: 128 },   // green
      { r: 34, g: 211, b: 238 },    // cyan
      { r: 167, g: 139, b: 250 },   // purple
      { r: 244, g: 114, b: 182 },   // pink
      { r: 74, g: 222, b: 128 },    // green again for wrap
    ];

    // Nodes
    const NODE_COUNT = 6;
    const nodes = [];
    for (let i = 0; i < NODE_COUNT; i++) {
      nodes.push({
        x: 0.2 + Math.random() * 0.6,
        y: 0.65 + Math.random() * 0.2,
        vx: (Math.random() - 0.5) * 0.0002,
        vy: (Math.random() - 0.5) * 0.0001,
        connected: i < 4,
        brightness: i < 4 ? 1 : 0.2,
        targetBrightness: i < 4 ? 1 : 0.2,
        disconnectTimer: 0,
        reconnecting: false,
        baseX: 0,
        baseY: 0,
      });
      nodes[i].baseX = nodes[i].x;
      nodes[i].baseY = nodes[i].y;
    }

    // Periodically disconnect and reconnect nodes
    let cycleTimer = 0;
    const CYCLE_DURATION = 480; // frames per full cycle
    let disconnectedIdx = 4;
    let auroraIntensity = 1;
    let targetAuroraIntensity = 1;

    function drawAurora() {
      const bandCount = 5;
      const bandWidth = W / bandCount;

      for (let b = 0; b < bandCount; b++) {
        const color = auroraColors[b % auroraColors.length];
        const baseX = b * bandWidth + bandWidth / 2;

        ctx.beginPath();
        for (let y = 0; y < H * 0.55; y += 2) {
          const wave1 = Math.sin(y * 0.008 + time * 0.02 + b * 1.2) * 40;
          const wave2 = Math.sin(y * 0.003 + time * 0.01 + b * 0.8) * 60;
          const wave3 = Math.sin(y * 0.015 + time * 0.035 + b * 2) * 15;
          const x = baseX + wave1 + wave2 + wave3;

          // Fade in from top, fade out toward middle
          const fadeIn = Math.min(1, y / (H * 0.1));
          const fadeOut = 1 - Math.pow(y / (H * 0.55), 2);
          const alpha = fadeIn * fadeOut * 0.08 * auroraIntensity;

          if (y === 0) {
            ctx.moveTo(x, y);
          } else {
            ctx.lineTo(x, y);
          }
        }

        ctx.strokeStyle = `rgba(${color.r}, ${color.g}, ${color.b}, ${0.15 * auroraIntensity})`;
        ctx.lineWidth = bandWidth * 0.7;
        ctx.filter = `blur(${30 + Math.sin(time * 0.01 + b) * 10}px)`;
        ctx.stroke();
        ctx.filter = 'none';

        // Inner brighter line
        ctx.beginPath();
        for (let y = 0; y < H * 0.5; y += 2) {
          const wave1 = Math.sin(y * 0.008 + time * 0.02 + b * 1.2) * 40;
          const wave2 = Math.sin(y * 0.003 + time * 0.01 + b * 0.8) * 60;
          const wave3 = Math.sin(y * 0.015 + time * 0.035 + b * 2) * 15;
          const x = baseX + wave1 + wave2 + wave3;

          if (y === 0) {
            ctx.moveTo(x, y);
          } else {
            ctx.lineTo(x, y);
          }
        }
        ctx.strokeStyle = `rgba(${color.r}, ${color.g}, ${color.b}, ${0.06 * auroraIntensity})`;
        ctx.lineWidth = bandWidth * 0.2;
        ctx.filter = `blur(${8 + Math.sin(time * 0.015 + b) * 4}px)`;
        ctx.stroke();
        ctx.filter = 'none';
      }
    }

    function updateNodes() {
      cycleTimer++;
      const phase = cycleTimer % CYCLE_DURATION;

      // Phase 0-120: everything stable
      // Phase 120-180: one node drifts offline
      // Phase 180-360: offline, drifting
      // Phase 360-400: reconnecting
      // Phase 400-480: aurora burst, everyone bright

      if (phase === 120) {
        // Pick a node to disconnect
        disconnectedIdx = Math.floor(Math.random() * NODE_COUNT);
        nodes[disconnectedIdx].connected = false;
        nodes[disconnectedIdx].targetBrightness = 0.15;
        nodes[disconnectedIdx].vx = (Math.random() > 0.5 ? 1 : -1) * 0.0004;
        nodes[disconnectedIdx].vy = (Math.random() - 0.5) * 0.0002;
        targetAuroraIntensity = 0.6;
      }

      if (phase === 360) {
        // Reconnect
        const n = nodes[disconnectedIdx];
        n.connected = true;
        n.targetBrightness = 1;
        n.reconnecting = true;
        n.vx = (n.baseX - n.x) * 0.01;
        n.vy = (n.baseY - n.y) * 0.01;

        // Flash
        reconnectFlashAlpha = 1;
        reconnectFlashX = n.x * W;
        reconnectFlashY = n.y * H;
        targetAuroraIntensity = 2.5;
      }

      if (phase === 430) {
        nodes[disconnectedIdx].reconnecting = false;
        targetAuroraIntensity = 1;
      }

      // Update node positions and brightness
      for (const n of nodes) {
        n.brightness += (n.targetBrightness - n.brightness) * 0.05;

        if (n.connected && !n.reconnecting) {
          // Gently drift toward base position
          n.vx += (n.baseX - n.x) * 0.0001;
          n.vy += (n.baseY - n.y) * 0.0001;
          n.vx *= 0.98;
          n.vy *= 0.98;
        } else if (!n.connected) {
          // Drift away
          n.vx *= 0.999;
          n.vy *= 0.999;
        } else if (n.reconnecting) {
          // Snap back
          n.vx = (n.baseX - n.x) * 0.02;
          n.vy = (n.baseY - n.y) * 0.02;
        }

        n.x += n.vx;
        n.y += n.vy;

        // Keep in bounds
        n.x = Math.max(0.05, Math.min(0.95, n.x));
        n.y = Math.max(0.55, Math.min(0.9, n.y));
      }

      // Smooth aurora intensity
      auroraIntensity += (targetAuroraIntensity - auroraIntensity) * 0.03;

      // Fade reconnect flash
      reconnectFlashAlpha *= 0.95;
    }

    function drawNodes() {
      const connectedNodes = nodes.filter(n => n.connected);

      // Draw connections between connected nodes
      for (let i = 0; i < connectedNodes.length; i++) {
        for (let j = i + 1; j < connectedNodes.length; j++) {
          const a = connectedNodes[i];
          const b = connectedNodes[j];
          const dist = Math.hypot(a.x - b.x, a.y - b.y);

          if (dist < 0.35) {
            const alpha = (1 - dist / 0.35) * 0.15 * Math.min(a.brightness, b.brightness);
            ctx.beginPath();
            ctx.moveTo(a.x * W, a.y * H);
            ctx.lineTo(b.x * W, b.y * H);
            ctx.strokeStyle = `rgba(74, 222, 128, ${alpha})`;
            ctx.lineWidth = 1;
            ctx.stroke();
          }
        }
      }

      // Draw nodes
      for (const n of nodes) {
        const px = n.x * W;
        const py = n.y * H;
        const radius = 3 + n.brightness * 3;

        // Glow
        if (n.brightness > 0.3) {
          const grad = ctx.createRadialGradient(px, py, 0, px, py, 20 * n.brightness);
          grad.addColorStop(0, `rgba(74, 222, 128, ${0.3 * n.brightness})`);
          grad.addColorStop(0.5, `rgba(34, 211, 238, ${0.1 * n.brightness})`);
          grad.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.beginPath();
          ctx.arc(px, py, 20 * n.brightness, 0, Math.PI * 2);
          ctx.fillStyle = grad;
          ctx.fill();
        }

        // Core dot
        ctx.beginPath();
        ctx.arc(px, py, radius, 0, Math.PI * 2);

        if (n.brightness > 0.5) {
          ctx.fillStyle = `rgba(74, 222, 128, ${n.brightness})`;
        } else {
          ctx.fillStyle = `rgba(100, 100, 120, ${0.3 + n.brightness * 0.5})`;
        }
        ctx.fill();
      }

      // Reconnect flash
      if (reconnectFlashAlpha > 0.01) {
        const grad = ctx.createRadialGradient(reconnectFlashX, reconnectFlashY, 0, reconnectFlashX, reconnectFlashY, 80);
        grad.addColorStop(0, `rgba(167, 139, 250, ${reconnectFlashAlpha * 0.5})`);
        grad.addColorStop(0.3, `rgba(34, 211, 238, ${reconnectFlashAlpha * 0.3})`);
        grad.addColorStop(0.6, `rgba(74, 222, 128, ${reconnectFlashAlpha * 0.1})`);
        grad.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.beginPath();
        ctx.arc(reconnectFlashX, reconnectFlashY, 80, 0, Math.PI * 2);
        ctx.fillStyle = grad;
        ctx.fill();
      }
    }

    function animate() {
      ctx.clearRect(0, 0, W, H);
      time++;

      drawAurora();
      updateNodes();
      drawNodes();

      requestAnimationFrame(animate);
    }

    animate();

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });
  </script>

</body>
</html>