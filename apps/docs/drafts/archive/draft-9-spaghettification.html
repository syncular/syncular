<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Syncular — Draft 9: Spaghettification</title>
<script src="https://cdn.tailwindcss.com"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@200;300;400;700;800&family=Martian+Mono:wght@200;300;400&display=swap" rel="stylesheet">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Bricolage Grotesque', sans-serif;
    background: #000;
    color: #fff;
    overflow-x: hidden;
  }
  code, .mono { font-family: 'Martian Mono', monospace; }

  /* Spaghettification — vertical data streams being stretched toward center */
  #stretch-canvas {
    position: fixed;
    inset: 0;
    z-index: 0;
  }

  /* The singularity line — horizontal, cutting across the page */
  .singularity-line {
    position: fixed;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg,
      transparent 0%,
      rgba(244, 63, 94, 0.02) 20%,
      rgba(244, 63, 94, 0.08) 45%,
      rgba(255, 255, 255, 0.15) 50%,
      rgba(244, 63, 94, 0.08) 55%,
      rgba(244, 63, 94, 0.02) 80%,
      transparent 100%
    );
    z-index: 1;
    pointer-events: none;
  }

  /* Above = client writes (stretching toward singularity) */
  /* Below = server truth (radiating from singularity) */

  .zone-label {
    position: fixed;
    z-index: 5;
    pointer-events: none;
    writing-mode: vertical-lr;
  }
  .zone-client {
    top: 20%;
    right: 40px;
  }
  .zone-server {
    bottom: 20%;
    right: 40px;
  }

  /* Title — stretched vertically */
  .hero-title {
    font-size: clamp(4rem, 11vw, 9rem);
    font-weight: 800;
    line-height: 0.8;
    letter-spacing: -0.04em;
  }

  /* Stretched text effect */
  .stretch-text {
    display: inline-block;
    transform: scaleY(1.4);
    transform-origin: center;
  }

  /* Animations */
  @keyframes fall-in {
    from { opacity: 0; transform: translateY(-60px) scaleY(0.5); }
    to { opacity: 1; transform: translateY(0) scaleY(1); }
  }
  @keyframes rise-out {
    from { opacity: 0; transform: translateY(60px) scaleY(0.5); }
    to { opacity: 1; transform: translateY(0) scaleY(1); }
  }
  .fall { animation: fall-in 1s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; }
  .rise { animation: rise-out 1s cubic-bezier(0.16, 1, 0.3, 1) forwards; opacity: 0; }
  .d1 { animation-delay: 0.15s; }
  .d2 { animation-delay: 0.3s; }
  .d3 { animation-delay: 0.5s; }
  .d4 { animation-delay: 0.7s; }
  .d5 { animation-delay: 0.9s; }
  .d6 { animation-delay: 1.1s; }

  /* Data row — represents a commit/mutation */
  .data-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    border: 1px solid rgba(255,255,255,0.02);
    border-radius: 8px;
    transition: all 0.3s ease;
    cursor: default;
  }
  .data-row:hover {
    border-color: rgba(244, 63, 94, 0.1);
    background: rgba(244, 63, 94, 0.02);
    transform: scaleY(1.02);
  }
  .data-row .hash {
    font-size: 9px;
    letter-spacing: 0.05em;
    color: rgba(244, 63, 94, 0.3);
    width: 60px;
    flex-shrink: 0;
  }
  .data-row .mutation {
    font-size: 11px;
    color: rgba(255,255,255,0.4);
    flex: 1;
  }
  .data-row .status {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
  }
  .status-synced { background: rgba(163, 230, 53, 0.4); }
  .status-pending { background: rgba(244, 63, 94, 0.4); animation: blink 2s ease-in-out infinite; }
  .status-pulling { background: rgba(56, 189, 248, 0.4); }

  @keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
  }

  /* CTA */
  .cta-stretch {
    border: 1px solid rgba(244, 63, 94, 0.15);
    transition: all 0.3s ease;
  }
  .cta-stretch:hover {
    border-color: rgba(244, 63, 94, 0.3);
    box-shadow: 0 0 40px rgba(244, 63, 94, 0.06);
    background: rgba(244, 63, 94, 0.03);
    transform: scaleY(1.02);
  }

  /* Feature grid with stretch hover */
  .stretch-card {
    border: 1px solid rgba(255,255,255,0.03);
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }
  .stretch-card:hover {
    transform: scaleY(1.03);
    border-color: rgba(244, 63, 94, 0.08);
    background: rgba(244, 63, 94, 0.01);
  }
</style>
</head>
<body>

<canvas id="stretch-canvas"></canvas>
<div class="singularity-line"></div>

<!-- Zone labels -->
<div class="zone-label zone-client fall d1">
  <span class="mono text-[8px] tracking-[0.4em] uppercase text-rose-500/15">client → push</span>
</div>
<div class="zone-label zone-server rise d1">
  <span class="mono text-[8px] tracking-[0.4em] uppercase text-rose-500/15">server → pull</span>
</div>

<!-- Nav -->
<header class="fixed top-0 left-0 right-0 z-50 px-8 py-6">
  <nav class="max-w-6xl mx-auto flex items-center justify-between">
    <span class="text-xs font-bold tracking-wider uppercase text-white/40 fall d1">Syncular</span>
    <div class="flex items-center gap-6 fall d1">
      <a href="#" class="mono text-[9px] text-white/20 hover:text-white/50 transition-colors">docs</a>
      <a href="#" class="mono text-[9px] text-white/20 hover:text-white/50 transition-colors">sdk</a>
      <a href="#" class="mono text-[9px] text-white/20 hover:text-white/50 transition-colors">github</a>
    </div>
  </nav>
</header>

<!-- Hero — the singularity stretches everything -->
<section class="relative min-h-screen flex items-center z-10 px-8">
  <div class="max-w-5xl mx-auto w-full">
    <div class="mono text-[9px] tracking-[0.4em] uppercase text-rose-500/25 mb-6 fall d2">
      offline-first sync engine
    </div>
    <h1 class="hero-title fall d3">
      <span class="text-white/80 stretch-text">Every</span><br>
      <span class="text-white/80 stretch-text">byte</span><br>
      <span class="text-white/25 stretch-text">converges</span>
    </h1>
    <div class="mt-10 max-w-md fall d4">
      <p class="text-sm text-white/20 leading-relaxed">
        Data stretches toward the singularity — local mutations pulled inward,
        server truth pushed outward. In Syncular, nothing resists the sync.
      </p>
    </div>
    <div class="mt-10 flex items-center gap-4 fall d5">
      <a href="#" class="cta-stretch px-7 py-2.5 rounded-lg mono text-[10px] tracking-wider text-rose-300/60">
        get started
      </a>
      <a href="#" class="mono text-[10px] text-white/15 hover:text-white/40 transition-colors">
        source →
      </a>
    </div>
  </div>
</section>

<!-- Commit log visualization — looks like actual data being synced -->
<section class="relative z-10 px-8 py-32">
  <div class="max-w-3xl mx-auto">
    <div class="flex items-end justify-between mb-8">
      <h2 class="text-2xl font-bold text-white/60">Commit log</h2>
      <div class="flex items-center gap-4">
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 rounded-full bg-lime-400/40"></div>
          <span class="mono text-[8px] text-white/20">synced</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 rounded-full bg-rose-400/40 animate-pulse"></div>
          <span class="mono text-[8px] text-white/20">pending</span>
        </div>
        <div class="flex items-center gap-2">
          <div class="w-2 h-2 rounded-full bg-sky-400/40"></div>
          <span class="mono text-[8px] text-white/20">pulling</span>
        </div>
      </div>
    </div>

    <div class="space-y-2">
      <div class="data-row">
        <span class="hash mono">a3f8c1</span>
        <span class="mutation mono">INSERT INTO tasks (title) VALUES ('Design landing page')</span>
        <div class="status status-synced"></div>
      </div>
      <div class="data-row">
        <span class="hash mono">b7d2e4</span>
        <span class="mutation mono">UPDATE tasks SET status = 'done' WHERE id = 12</span>
        <div class="status status-synced"></div>
      </div>
      <div class="data-row">
        <span class="hash mono">c1a9f0</span>
        <span class="mutation mono">INSERT INTO comments (body) VALUES ('Looks great!')</span>
        <div class="status status-synced"></div>
      </div>
      <div class="data-row" style="border-color: rgba(244,63,94,0.06); background: rgba(244,63,94,0.01);">
        <span class="hash mono">d4e6b2</span>
        <span class="mutation mono">UPDATE tasks SET assignee = 'alice' WHERE id = 15</span>
        <div class="status status-pending"></div>
      </div>
      <div class="data-row" style="border-color: rgba(56,189,248,0.04); background: rgba(56,189,248,0.01);">
        <span class="hash mono">e8f3a7</span>
        <span class="mutation mono">INSERT INTO tasks (title) VALUES ('Ship v1.0') — from server</span>
        <div class="status status-pulling"></div>
      </div>
    </div>
  </div>
</section>

<!-- Features -->
<section class="relative z-10 px-8 py-32">
  <div class="max-w-5xl mx-auto">
    <h2 class="text-2xl font-bold text-white/60 mb-12">Tidal forces</h2>
    <div class="grid grid-cols-3 gap-3">
      <div class="stretch-card rounded-xl p-6">
        <h3 class="text-sm font-bold text-white/50 mb-2">Offline-First</h3>
        <p class="mono text-[9px] text-white/15 leading-relaxed">Write to SQLite. Always available. Zero latency.</p>
      </div>
      <div class="stretch-card rounded-xl p-6">
        <h3 class="text-sm font-bold text-white/50 mb-2">Commit-Log</h3>
        <p class="mono text-[9px] text-white/15 leading-relaxed">Ordered, traceable, mergeable history.</p>
      </div>
      <div class="stretch-card rounded-xl p-6">
        <h3 class="text-sm font-bold text-white/50 mb-2">Scoped Auth</h3>
        <p class="mono text-[9px] text-white/15 leading-relaxed">Row-level security via subscription scopes.</p>
      </div>
      <div class="stretch-card rounded-xl p-6">
        <h3 class="text-sm font-bold text-white/50 mb-2">Type-Safe SQL</h3>
        <p class="mono text-[9px] text-white/15 leading-relaxed">Kysely queries. Full TypeScript inference.</p>
      </div>
      <div class="stretch-card rounded-xl p-6">
        <h3 class="text-sm font-bold text-white/50 mb-2">Conflict Detection</h3>
        <p class="mono text-[9px] text-white/15 leading-relaxed">Automatic detection. Manual resolution hooks.</p>
      </div>
      <div class="stretch-card rounded-xl p-6">
        <h3 class="text-sm font-bold text-white/50 mb-2">Self-Hosted</h3>
        <p class="mono text-[9px] text-white/15 leading-relaxed">MIT license. Your infrastructure.</p>
      </div>
    </div>
  </div>
</section>

<!-- Install -->
<section class="relative z-10 px-8 py-24">
  <div class="max-w-2xl mx-auto text-center">
    <h2 class="text-3xl font-bold mb-4 text-white/60">Cross the <span class="text-rose-400/40">threshold</span></h2>
    <p class="mono text-[10px] text-white/15 mb-12">Beyond this point, every mutation syncs.</p>
    <div class="border border-white/[0.04] rounded-xl p-6 text-left bg-white/[0.01]">
      <code class="mono text-xs text-white/25">
        <span class="text-rose-400/25">$</span> bun add @syncular/client @syncular/server
      </code>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="relative z-10 px-8 py-12 border-t border-white/[0.03]">
  <div class="max-w-5xl mx-auto flex items-center justify-between">
    <span class="mono text-[9px] text-white/10">syncular — MIT license</span>
    <div class="flex gap-6">
      <a href="#" class="mono text-[9px] text-white/10 hover:text-white/30 transition-colors">docs</a>
      <a href="#" class="mono text-[9px] text-white/10 hover:text-white/30 transition-colors">github</a>
    </div>
  </div>
</footer>

<script>
// Spaghettification effect — vertical lines being stretched toward the center line
const canvas = document.getElementById('stretch-canvas');
const ctx = canvas.getContext('2d');

function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
resize();
window.addEventListener('resize', resize);

const strands = [];
const STRAND_COUNT = 60;

for (let i = 0; i < STRAND_COUNT; i++) {
  strands.push({
    x: Math.random() * 2000 - 200,
    speed: 0.2 + Math.random() * 0.8,
    phase: Math.random() * Math.PI * 2,
    amplitude: 10 + Math.random() * 30,
    width: 0.3 + Math.random() * 0.7,
    fromTop: Math.random() > 0.5, // comes from top or bottom
    hue: Math.random() > 0.6 ? 0 : (Math.random() > 0.5 ? 350 : 200), // white, rose, or blue
    opacity: 0.03 + Math.random() * 0.06,
  });
}

let time = 0;

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  const midY = canvas.height / 2;
  time += 0.005;

  strands.forEach(s => {
    const startY = s.fromTop ? 0 : canvas.height;
    const endY = midY + (s.fromTop ? -2 : 2); // approach but never cross

    ctx.beginPath();
    ctx.moveTo(s.x, startY);

    // Draw a line that accelerates toward midY
    const steps = 40;
    for (let i = 0; i <= steps; i++) {
      const t = i / steps;
      // Ease-in: slow at start, fast near singularity
      const eased = t * t * t;
      const y = startY + (endY - startY) * eased;
      // Horizontal wobble increases near singularity
      const wobble = Math.sin(time * s.speed + s.phase + t * 8) * s.amplitude * (1 - t);
      ctx.lineTo(s.x + wobble, y);
    }

    const alpha = s.opacity;
    if (s.hue === 0) {
      ctx.strokeStyle = `rgba(255, 255, 255, ${alpha})`;
    } else if (s.hue === 350) {
      ctx.strokeStyle = `rgba(244, 63, 94, ${alpha * 1.5})`;
    } else {
      ctx.strokeStyle = `rgba(56, 189, 248, ${alpha})`;
    }
    ctx.lineWidth = s.width;
    ctx.stroke();
  });

  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>