<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Syncular — Surface When Ready</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700&family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            display: ['Inter', 'system-ui', 'sans-serif'],
            mono: ['"Fira Code"', 'monospace'],
          },
          colors: {
            abyss: '#020817',
            deep: '#0a1628',
            trench: '#0d1f3c',
            sonar: '#0ea5e9',
            teal: '#14b8a6',
            surface: '#38bdf8',
          },
        },
      },
    };
  </script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Inter', system-ui, sans-serif;
      background: #020817;
      color: #e2e8f0;
      overflow-x: hidden;
    }
    .font-mono { font-family: 'Fira Code', monospace; }

    /* Sonar glow */
    .sonar-glow {
      text-shadow: 0 0 20px rgba(14, 165, 233, 0.5), 0 0 60px rgba(14, 165, 233, 0.2);
    }
    .teal-glow {
      text-shadow: 0 0 20px rgba(20, 184, 166, 0.5), 0 0 60px rgba(20, 184, 166, 0.2);
    }
    .sonar-box {
      box-shadow: 0 0 0 1px rgba(14, 165, 233, 0.2), 0 0 30px rgba(14, 165, 233, 0.05);
      transition: box-shadow 0.4s ease, transform 0.4s ease;
    }
    .sonar-box:hover {
      box-shadow: 0 0 0 1px rgba(14, 165, 233, 0.5), 0 0 50px rgba(14, 165, 233, 0.1);
      transform: translateY(-2px);
    }

    /* Depth gauge animation */
    @keyframes depthPulse {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 1; }
    }
    .depth-pulse {
      animation: depthPulse 3s ease-in-out infinite;
    }

    /* Sonar ping keyframes */
    @keyframes sonarPing {
      0% { transform: scale(0); opacity: 0.8; }
      100% { transform: scale(3); opacity: 0; }
    }

    /* Bubble rise */
    @keyframes bubbleRise {
      0% { transform: translateY(0) scale(1); opacity: 0.6; }
      100% { transform: translateY(-60px) scale(0.3); opacity: 0; }
    }

    /* Surface shimmer */
    @keyframes surfaceShimmer {
      0%, 100% { opacity: 0.03; }
      50% { opacity: 0.08; }
    }

    /* Scroll reveal */
    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Protocol step connector */
    .protocol-connector {
      background: linear-gradient(180deg, rgba(14, 165, 233, 0.4) 0%, rgba(14, 165, 233, 0) 100%);
    }

    /* Canvas overlay gradient */
    .ocean-overlay {
      background: linear-gradient(180deg,
        transparent 0%,
        rgba(2, 8, 23, 0.3) 40%,
        rgba(2, 8, 23, 0.9) 85%,
        #020817 100%
      );
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: #020817; }
    ::-webkit-scrollbar-thumb { background: #1e3a5f; border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #0ea5e9; }
  </style>
</head>
<body>

  <!-- ====== NAV ====== -->
  <nav class="fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-abyss/80 border-b border-white/5">
    <div class="max-w-6xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="#" class="flex items-center gap-3 group">
        <!-- Sonar icon -->
        <div class="relative w-8 h-8">
          <svg viewBox="0 0 32 32" class="w-8 h-8">
            <circle cx="16" cy="16" r="3" fill="#0ea5e9" />
            <circle cx="16" cy="16" r="7" fill="none" stroke="#0ea5e9" stroke-width="1" opacity="0.5" />
            <circle cx="16" cy="16" r="12" fill="none" stroke="#0ea5e9" stroke-width="0.5" opacity="0.25" />
          </svg>
        </div>
        <span class="text-lg font-bold text-white tracking-tight">Syncular</span>
      </a>
      <div class="hidden md:flex items-center gap-8 text-sm text-slate-400">
        <a href="#depth-readings" class="hover:text-sonar transition-colors">Depth Readings</a>
        <a href="#surface-protocol" class="hover:text-sonar transition-colors">Surface Protocol</a>
        <a href="#install" class="hover:text-sonar transition-colors">Install</a>
        <a href="https://github.com/puredata-ec/syncular" target="_blank" class="hover:text-sonar transition-colors">GitHub</a>
        <a href="#install" class="px-4 py-2 bg-sonar/10 border border-sonar/30 rounded-lg text-sonar hover:bg-sonar/20 transition-all font-medium">
          Get Started
        </a>
      </div>
    </div>
  </nav>

  <!-- ====== HERO — OCEAN SCENE ====== -->
  <section class="relative min-h-screen flex items-center justify-center overflow-hidden">
    <!-- Canvas: ocean simulation -->
    <canvas id="ocean" class="absolute inset-0 w-full h-full"></canvas>
    <!-- Gradient overlay for text readability -->
    <div class="ocean-overlay absolute inset-0 pointer-events-none"></div>

    <!-- Hero content -->
    <div class="relative z-10 text-center px-6 max-w-4xl mx-auto pt-20">
      <!-- Status badge -->
      <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full border border-sonar/20 bg-sonar/5 mb-8">
        <span class="w-2 h-2 rounded-full bg-teal animate-pulse"></span>
        <span class="text-xs font-mono text-teal tracking-wider uppercase">Depth Operations Active</span>
      </div>

      <h1 class="text-5xl sm:text-7xl lg:text-8xl font-black text-white leading-[0.95] tracking-tight mb-6">
        Silent<br />
        <span class="sonar-glow text-sonar">Operations</span>
      </h1>

      <p class="text-lg sm:text-xl text-slate-400 max-w-2xl mx-auto mb-4 leading-relaxed">
        Your app works in the depths, syncs at the surface.
      </p>
      <p class="text-sm sm:text-base text-slate-500 max-w-xl mx-auto mb-10 leading-relaxed">
        Syncular is an offline-first sync framework. Like submarines that operate in silence
        and surface to exchange intelligence, your clients work independently and sync when ready.
      </p>

      <!-- Install quick copy -->
      <div class="inline-flex items-center gap-3 px-5 py-3 rounded-xl bg-deep border border-white/10 font-mono text-sm group cursor-pointer" onclick="navigator.clipboard.writeText('bun add @syncular/client @syncular/server')">
        <span class="text-slate-500">$</span>
        <span class="text-slate-300">bun add <span class="text-sonar">@syncular/client</span> <span class="text-teal">@syncular/server</span></span>
        <svg class="w-4 h-4 text-slate-500 group-hover:text-sonar transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
        </svg>
      </div>

      <!-- Depth gauge indicator -->
      <div class="mt-16 flex flex-col items-center gap-2 text-slate-600">
        <span class="text-xs font-mono tracking-widest uppercase">Dive Deeper</span>
        <div class="flex flex-col items-center gap-1">
          <div class="w-px h-8 bg-gradient-to-b from-sonar/40 to-transparent"></div>
          <svg class="w-4 h-4 text-sonar/40 animate-bounce" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- ====== DEPTH READINGS (Features) ====== -->
  <section id="depth-readings" class="relative py-32 px-6">
    <div class="max-w-6xl mx-auto">
      <!-- Section header -->
      <div class="text-center mb-20 reveal">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-sonar/20 bg-sonar/5 mb-6">
          <span class="text-xs font-mono text-sonar tracking-wider uppercase">Depth Readings</span>
        </div>
        <h2 class="text-4xl sm:text-5xl font-black text-white mb-4">Capabilities at Every Depth</h2>
        <p class="text-slate-400 max-w-lg mx-auto">From the surface to the deepest trench, Syncular keeps your application operational.</p>
      </div>

      <!-- Depth gauge visual + features -->
      <div class="relative">
        <!-- Vertical depth line -->
        <div class="absolute left-1/2 md:left-[120px] top-0 bottom-0 w-px bg-gradient-to-b from-surface/60 via-sonar/30 to-teal/10 -translate-x-1/2 md:translate-x-0"></div>

        <!-- Depth 0m -->
        <div class="relative flex flex-col md:flex-row items-start gap-6 md:gap-12 mb-20 reveal">
          <div class="flex-shrink-0 md:w-[240px] flex items-center gap-4">
            <div class="relative z-10 w-14 h-14 rounded-full border-2 border-surface bg-abyss flex items-center justify-center ml-auto md:ml-0 md:mr-0" style="margin-left: calc(50% - 28px); margin-right: 0;">
              <span class="text-surface font-mono text-xs font-bold">0m</span>
              <!-- Sonar ping -->
              <div class="absolute inset-0 rounded-full border border-surface/30 animate-ping" style="animation-duration: 3s;"></div>
            </div>
          </div>
          <div class="sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 flex-1 max-w-xl">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-surface animate-pulse"></div>
              <h3 class="text-xl font-bold text-white">Surface Level — Connected</h3>
            </div>
            <p class="text-slate-400 leading-relaxed mb-4">Real-time sync via WebSockets. Changes propagate instantly across all connected clients. Presence awareness shows who's online.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 rounded text-xs font-mono bg-surface/10 text-surface border border-surface/20">WebSocket</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-surface/10 text-surface border border-surface/20">Real-time</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-surface/10 text-surface border border-surface/20">Presence</span>
            </div>
          </div>
        </div>

        <!-- Depth 100m -->
        <div class="relative flex flex-col md:flex-row items-start gap-6 md:gap-12 mb-20 reveal">
          <div class="flex-shrink-0 md:w-[240px] flex items-center gap-4">
            <div class="relative z-10 w-14 h-14 rounded-full border-2 border-sonar bg-abyss flex items-center justify-center" style="margin-left: calc(50% - 28px);">
              <span class="text-sonar font-mono text-xs font-bold">100m</span>
            </div>
          </div>
          <div class="sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 flex-1 max-w-xl">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-sonar depth-pulse"></div>
              <h3 class="text-xl font-bold text-white">Shallow Dive — Offline Writes</h3>
            </div>
            <p class="text-slate-400 leading-relaxed mb-4">Connection lost? Keep working. Every mutation is captured in a local outbox, perfectly ordered and ready to sync when connectivity returns.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 rounded text-xs font-mono bg-sonar/10 text-sonar border border-sonar/20">Local-first</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-sonar/10 text-sonar border border-sonar/20">Outbox</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-sonar/10 text-sonar border border-sonar/20">Ordered</span>
            </div>
          </div>
        </div>

        <!-- Depth 200m -->
        <div class="relative flex flex-col md:flex-row items-start gap-6 md:gap-12 mb-20 reveal">
          <div class="flex-shrink-0 md:w-[240px] flex items-center gap-4">
            <div class="relative z-10 w-14 h-14 rounded-full border-2 border-sonar/70 bg-abyss flex items-center justify-center" style="margin-left: calc(50% - 28px);">
              <span class="text-sonar/70 font-mono text-xs font-bold">200m</span>
            </div>
          </div>
          <div class="sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 flex-1 max-w-xl">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-sonar/70 depth-pulse" style="animation-delay: 0.5s;"></div>
              <h3 class="text-xl font-bold text-white">Mid-Depth — Conflict Resolution</h3>
            </div>
            <p class="text-slate-400 leading-relaxed mb-4">When submarines surface with divergent intelligence, conflicts are inevitable. Syncular resolves them deterministically with server-authoritative merge strategies.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 rounded text-xs font-mono bg-sonar/10 text-sonar/80 border border-sonar/15">Deterministic</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-sonar/10 text-sonar/80 border border-sonar/15">Server-auth</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-sonar/10 text-sonar/80 border border-sonar/15">Merge</span>
            </div>
          </div>
        </div>

        <!-- Depth 500m -->
        <div class="relative flex flex-col md:flex-row items-start gap-6 md:gap-12 mb-20 reveal">
          <div class="flex-shrink-0 md:w-[240px] flex items-center gap-4">
            <div class="relative z-10 w-14 h-14 rounded-full border-2 border-teal/60 bg-abyss flex items-center justify-center" style="margin-left: calc(50% - 28px);">
              <span class="text-teal/60 font-mono text-xs font-bold">500m</span>
            </div>
          </div>
          <div class="sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 flex-1 max-w-xl">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-teal/60 depth-pulse" style="animation-delay: 1s;"></div>
              <h3 class="text-xl font-bold text-white">Deep Water — Snapshot Bootstrap</h3>
            </div>
            <p class="text-slate-400 leading-relaxed mb-4">New clients don't replay the entire history. They receive a compressed snapshot — chunked and streamed — then subscribe to the live commit log from that point forward.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/10 text-teal/70 border border-teal/15">Snapshots</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/10 text-teal/70 border border-teal/15">Chunked</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/10 text-teal/70 border border-teal/15">Streamed</span>
            </div>
          </div>
        </div>

        <!-- Depth 1000m -->
        <div class="relative flex flex-col md:flex-row items-start gap-6 md:gap-12 mb-20 reveal">
          <div class="flex-shrink-0 md:w-[240px] flex items-center gap-4">
            <div class="relative z-10 w-14 h-14 rounded-full border-2 border-teal/40 bg-abyss flex items-center justify-center" style="margin-left: calc(50% - 28px);">
              <span class="text-teal/40 font-mono text-xs font-bold">1km</span>
            </div>
          </div>
          <div class="sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 flex-1 max-w-xl">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-teal/40 depth-pulse" style="animation-delay: 1.5s;"></div>
              <h3 class="text-xl font-bold text-white">Abyssal Zone — End-to-End Encryption</h3>
            </div>
            <p class="text-slate-400 leading-relaxed mb-4">At the deepest operational level, data is encrypted client-side before it ever leaves the device. The server sees only ciphertext. Secure key sharing between authorized clients.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/10 text-teal/50 border border-teal/10">E2EE</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/10 text-teal/50 border border-teal/10">Zero-knowledge</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/10 text-teal/50 border border-teal/10">Key sharing</span>
            </div>
          </div>
        </div>

        <!-- Depth 2000m -->
        <div class="relative flex flex-col md:flex-row items-start gap-6 md:gap-12 reveal">
          <div class="flex-shrink-0 md:w-[240px] flex items-center gap-4">
            <div class="relative z-10 w-14 h-14 rounded-full border-2 border-teal/20 bg-abyss flex items-center justify-center" style="margin-left: calc(50% - 28px);">
              <span class="text-teal/25 font-mono text-xs font-bold">2km</span>
            </div>
          </div>
          <div class="sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 flex-1 max-w-xl">
            <div class="flex items-center gap-3 mb-3">
              <div class="w-2 h-2 rounded-full bg-teal/25 depth-pulse" style="animation-delay: 2s;"></div>
              <h3 class="text-xl font-bold text-white">Hadal Trench — Blob Storage & Relay</h3>
            </div>
            <p class="text-slate-400 leading-relaxed mb-4">Binary payloads, file attachments, images — all handled. Edge relays bring sync infrastructure closer to your users, reducing latency even in the deepest deployments.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/5 text-teal/40 border border-teal/10">Blobs</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/5 text-teal/40 border border-teal/10">Edge relay</span>
              <span class="px-2 py-1 rounded text-xs font-mono bg-teal/5 text-teal/40 border border-teal/10">CDN-ready</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====== SURFACE PROTOCOL (Sync Flow) ====== -->
  <section id="surface-protocol" class="relative py-32 px-6 overflow-hidden">
    <!-- Subtle background sonar rings -->
    <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
      <div class="w-[600px] h-[600px] rounded-full border border-sonar/5"></div>
      <div class="absolute w-[400px] h-[400px] rounded-full border border-sonar/8"></div>
      <div class="absolute w-[200px] h-[200px] rounded-full border border-sonar/12"></div>
    </div>

    <div class="max-w-5xl mx-auto relative z-10">
      <div class="text-center mb-20 reveal">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-teal/20 bg-teal/5 mb-6">
          <span class="text-xs font-mono text-teal tracking-wider uppercase">Surface Protocol</span>
        </div>
        <h2 class="text-4xl sm:text-5xl font-black text-white mb-4">The Sync Handshake</h2>
        <p class="text-slate-400 max-w-lg mx-auto">A submarine surfaces, exchanges intelligence, and returns to silent operations. Four phases, fully automatic.</p>
      </div>

      <!-- Sync flow steps -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 relative">
        <!-- Connector line (desktop) -->
        <div class="hidden md:block absolute top-[60px] left-[12.5%] right-[12.5%] h-px bg-gradient-to-r from-sonar/0 via-sonar/30 to-sonar/0"></div>

        <!-- Step 1: Surface -->
        <div class="reveal">
          <div class="text-center">
            <div class="relative w-[120px] h-[120px] mx-auto mb-6">
              <svg viewBox="0 0 120 120" class="w-full h-full">
                <!-- Water surface -->
                <path d="M0 50 Q15 45, 30 50 T60 50 T90 50 T120 50 V0 H0 Z" fill="#0ea5e920" />
                <path d="M0 50 Q15 45, 30 50 T60 50 T90 50 T120 50" fill="none" stroke="#38bdf8" stroke-width="1.5" opacity="0.5" />
                <!-- Submarine rising -->
                <g transform="translate(60, 65)">
                  <ellipse rx="16" ry="7" fill="#0d1f3c" stroke="#0ea5e9" stroke-width="1" />
                  <rect x="-2" y="-14" width="4" height="10" rx="1" fill="#0ea5e9" opacity="0.6" />
                  <circle r="2" fill="#0ea5e9">
                    <animate attributeName="cy" values="0;-3;0" dur="2s" repeatCount="indefinite" />
                  </circle>
                </g>
                <!-- Bubbles -->
                <circle cx="50" cy="70" r="1.5" fill="#0ea5e9" opacity="0.3">
                  <animate attributeName="cy" values="70;45" dur="3s" repeatCount="indefinite" />
                  <animate attributeName="opacity" values="0.3;0" dur="3s" repeatCount="indefinite" />
                </circle>
                <circle cx="72" cy="75" r="1" fill="#0ea5e9" opacity="0.2">
                  <animate attributeName="cy" values="75;40" dur="4s" repeatCount="indefinite" />
                  <animate attributeName="opacity" values="0.2;0" dur="4s" repeatCount="indefinite" />
                </circle>
              </svg>
            </div>
            <div class="font-mono text-xs text-sonar/60 mb-2 tracking-wider">PHASE 01</div>
            <h3 class="text-lg font-bold text-white mb-2">Surface</h3>
            <p class="text-sm text-slate-500">Client detects connectivity and initiates sync handshake with the server.</p>
          </div>
        </div>

        <!-- Step 2: Sonar Ping -->
        <div class="reveal" style="transition-delay: 0.1s;">
          <div class="text-center">
            <div class="relative w-[120px] h-[120px] mx-auto mb-6">
              <svg viewBox="0 0 120 120" class="w-full h-full">
                <!-- Sonar rings -->
                <circle cx="60" cy="60" r="10" fill="#0ea5e9" opacity="0.8">
                  <animate attributeName="r" values="8;12;8" dur="2s" repeatCount="indefinite" />
                </circle>
                <circle cx="60" cy="60" r="20" fill="none" stroke="#0ea5e9" stroke-width="1" opacity="0.5">
                  <animate attributeName="r" values="15;25;15" dur="2s" repeatCount="indefinite" />
                  <animate attributeName="opacity" values="0.5;0.1;0.5" dur="2s" repeatCount="indefinite" />
                </circle>
                <circle cx="60" cy="60" r="35" fill="none" stroke="#0ea5e9" stroke-width="0.5" opacity="0.3">
                  <animate attributeName="r" values="28;40;28" dur="2s" repeatCount="indefinite" />
                  <animate attributeName="opacity" values="0.3;0.05;0.3" dur="2s" repeatCount="indefinite" />
                </circle>
                <circle cx="60" cy="60" r="50" fill="none" stroke="#0ea5e9" stroke-width="0.5" opacity="0.1">
                  <animate attributeName="r" values="42;55;42" dur="2s" repeatCount="indefinite" />
                  <animate attributeName="opacity" values="0.15;0;0.15" dur="2s" repeatCount="indefinite" />
                </circle>
              </svg>
            </div>
            <div class="font-mono text-xs text-sonar/60 mb-2 tracking-wider">PHASE 02</div>
            <h3 class="text-lg font-bold text-white mb-2">Sonar Ping</h3>
            <p class="text-sm text-slate-500">Client sends its last-known cursor. Server computes the delta since last sync.</p>
          </div>
        </div>

        <!-- Step 3: Data Exchange -->
        <div class="reveal" style="transition-delay: 0.2s;">
          <div class="text-center">
            <div class="relative w-[120px] h-[120px] mx-auto mb-6">
              <svg viewBox="0 0 120 120" class="w-full h-full">
                <!-- Two nodes -->
                <circle cx="30" cy="60" r="12" fill="#0d1f3c" stroke="#0ea5e9" stroke-width="1.5" />
                <circle cx="90" cy="60" r="12" fill="#0d1f3c" stroke="#14b8a6" stroke-width="1.5" />
                <!-- Data packets moving between -->
                <circle r="3" fill="#0ea5e9">
                  <animate attributeName="cx" values="42;78;42" dur="1.5s" repeatCount="indefinite" />
                  <animate attributeName="cy" values="55;55;55" dur="1.5s" repeatCount="indefinite" />
                </circle>
                <circle r="3" fill="#14b8a6">
                  <animate attributeName="cx" values="78;42;78" dur="1.5s" repeatCount="indefinite" />
                  <animate attributeName="cy" values="65;65;65" dur="1.5s" repeatCount="indefinite" />
                </circle>
                <!-- Connection line -->
                <line x1="42" y1="60" x2="78" y2="60" stroke="#0ea5e9" stroke-width="0.5" opacity="0.3" stroke-dasharray="3 3">
                  <animate attributeName="stroke-dashoffset" values="0;6" dur="1s" repeatCount="indefinite" />
                </line>
                <!-- Labels -->
                <text x="30" y="64" text-anchor="middle" fill="#0ea5e9" font-size="8" font-weight="bold">C</text>
                <text x="90" y="64" text-anchor="middle" fill="#14b8a6" font-size="8" font-weight="bold">S</text>
              </svg>
            </div>
            <div class="font-mono text-xs text-sonar/60 mb-2 tracking-wider">PHASE 03</div>
            <h3 class="text-lg font-bold text-white mb-2">Exchange</h3>
            <p class="text-sm text-slate-500">Push local changes, pull remote updates. Conflicts resolved. Cursors advanced.</p>
          </div>
        </div>

        <!-- Step 4: Dive -->
        <div class="reveal" style="transition-delay: 0.3s;">
          <div class="text-center">
            <div class="relative w-[120px] h-[120px] mx-auto mb-6">
              <svg viewBox="0 0 120 120" class="w-full h-full">
                <!-- Water surface -->
                <path d="M0 30 Q15 25, 30 30 T60 30 T90 30 T120 30 V0 H0 Z" fill="#0ea5e910" />
                <path d="M0 30 Q15 25, 30 30 T60 30 T90 30 T120 30" fill="none" stroke="#38bdf8" stroke-width="1" opacity="0.3" />
                <!-- Submarine diving -->
                <g>
                  <animateTransform attributeName="transform" type="translate" values="0,0; 0,15; 0,0" dur="4s" repeatCount="indefinite" />
                  <g transform="translate(60, 75)">
                    <ellipse rx="16" ry="7" fill="#0d1f3c" stroke="#14b8a6" stroke-width="1" opacity="0.7" />
                    <circle r="2" fill="#14b8a6" opacity="0.5" />
                  </g>
                </g>
                <!-- Working indicator -->
                <g transform="translate(60, 100)">
                  <circle r="2" fill="#14b8a6" opacity="0.6">
                    <animate attributeName="opacity" values="0.6;0.2;0.6" dur="1.5s" repeatCount="indefinite" />
                  </circle>
                  <text y="10" text-anchor="middle" fill="#14b8a6" font-size="6" opacity="0.4">working</text>
                </g>
              </svg>
            </div>
            <div class="font-mono text-xs text-sonar/60 mb-2 tracking-wider">PHASE 04</div>
            <h3 class="text-lg font-bold text-white mb-2">Dive</h3>
            <p class="text-sm text-slate-500">Sync complete. Client returns to independent offline operation until next surface.</p>
          </div>
        </div>
      </div>

      <!-- Sync timeline visual -->
      <div class="mt-20 reveal">
        <div class="sonar-box rounded-2xl bg-deep/60 border border-white/5 p-8 overflow-hidden">
          <div class="flex items-center gap-2 mb-6">
            <div class="w-2 h-2 rounded-full bg-sonar"></div>
            <span class="font-mono text-xs text-slate-500 tracking-wider uppercase">Sync Timeline — Client Alpha</span>
          </div>
          <div class="relative h-32">
            <!-- Timeline background -->
            <div class="absolute top-1/2 left-0 right-0 h-px bg-white/5"></div>
            <!-- Surface line -->
            <div class="absolute top-4 left-0 right-0 h-px bg-surface/20 border-dashed" style="border-top: 1px dashed rgba(56, 189, 248, 0.2);"></div>
            <div class="absolute top-1 left-2 font-mono text-[10px] text-surface/40">SURFACE (online)</div>
            <!-- Deep line -->
            <div class="absolute bottom-4 left-0 right-0 h-px" style="border-top: 1px dashed rgba(20, 184, 166, 0.15);"></div>
            <div class="absolute bottom-1 left-2 font-mono text-[10px] text-teal/30">DEEP (offline)</div>

            <!-- Submarine path SVG -->
            <svg class="absolute inset-0 w-full h-full" preserveAspectRatio="none" viewBox="0 0 800 128">
              <!-- The path: starts deep, rises to surface, stays briefly, dives, works deep, rises again -->
              <path d="M0,100 C50,100 80,100 120,100 C140,80 150,30 170,20 L220,20 C240,30 250,80 270,100 C300,100 350,100 380,100 C400,80 420,30 440,20 L500,20 C520,30 540,80 560,100 C590,100 640,100 680,100 C700,80 720,30 740,20 L800,20"
                fill="none" stroke="url(#pathGrad)" stroke-width="2" />
              <!-- Gradient for the path -->
              <defs>
                <linearGradient id="pathGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stop-color="#14b8a6" />
                  <stop offset="50%" stop-color="#0ea5e9" />
                  <stop offset="100%" stop-color="#38bdf8" />
                </linearGradient>
              </defs>
              <!-- Sync points (at surface) -->
              <circle cx="195" cy="20" r="4" fill="#38bdf8">
                <animate attributeName="r" values="3;6;3" dur="2s" repeatCount="indefinite" />
                <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite" />
              </circle>
              <circle cx="470" cy="20" r="4" fill="#38bdf8">
                <animate attributeName="r" values="3;6;3" dur="2s" repeatCount="indefinite" begin="0.5s" />
                <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite" begin="0.5s" />
              </circle>
              <circle cx="770" cy="20" r="4" fill="#38bdf8">
                <animate attributeName="r" values="3;6;3" dur="2s" repeatCount="indefinite" begin="1s" />
                <animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite" begin="1s" />
              </circle>
              <!-- Working indicators (at depth) -->
              <circle cx="60" cy="100" r="2" fill="#14b8a6" opacity="0.5">
                <animate attributeName="opacity" values="0.5;0.2;0.5" dur="1s" repeatCount="indefinite" />
              </circle>
              <circle cx="325" cy="100" r="2" fill="#14b8a6" opacity="0.5">
                <animate attributeName="opacity" values="0.5;0.2;0.5" dur="1s" repeatCount="indefinite" begin="0.3s" />
              </circle>
              <circle cx="620" cy="100" r="2" fill="#14b8a6" opacity="0.5">
                <animate attributeName="opacity" values="0.5;0.2;0.5" dur="1s" repeatCount="indefinite" begin="0.6s" />
              </circle>
            </svg>
          </div>
          <div class="flex justify-between text-[10px] font-mono text-slate-600 mt-2 px-2">
            <span>t=0 offline work</span>
            <span>sync #1</span>
            <span>offline work</span>
            <span>sync #2</span>
            <span>offline work</span>
            <span>sync #3</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====== INSTALL ====== -->
  <section id="install" class="relative py-32 px-6">
    <div class="max-w-3xl mx-auto text-center">
      <div class="reveal">
        <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-sonar/20 bg-sonar/5 mb-6">
          <span class="text-xs font-mono text-sonar tracking-wider uppercase">Deploy</span>
        </div>
        <h2 class="text-4xl sm:text-5xl font-black text-white mb-4">Begin Silent Operations</h2>
        <p class="text-slate-400 max-w-lg mx-auto mb-12">Get your fleet operational in minutes. Install the client and server packages, configure your sync engine, and dive.</p>
      </div>

      <!-- Install command -->
      <div class="reveal sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 mb-8 text-left">
        <div class="flex items-center gap-2 mb-4">
          <div class="w-3 h-3 rounded-full bg-red-500/50"></div>
          <div class="w-3 h-3 rounded-full bg-yellow-500/50"></div>
          <div class="w-3 h-3 rounded-full bg-green-500/50"></div>
          <span class="ml-3 font-mono text-xs text-slate-600">terminal</span>
        </div>
        <div class="space-y-3 font-mono text-sm">
          <div class="flex items-center gap-3">
            <span class="text-sonar/60 select-none">$</span>
            <span class="text-slate-300">bun add <span class="text-sonar">@syncular/client</span> <span class="text-teal">@syncular/server</span></span>
          </div>
          <div class="flex items-center gap-3 opacity-60">
            <span class="text-sonar/60 select-none">$</span>
            <span class="text-slate-400">bun add <span class="text-sonar/70">@syncular/transport-http</span> <span class="text-teal/70">@syncular/transport-ws</span></span>
          </div>
        </div>
      </div>

      <!-- Quick start code -->
      <div class="reveal sonar-box rounded-2xl bg-deep/80 border border-white/5 p-8 text-left mb-12">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2">
            <div class="w-3 h-3 rounded-full bg-sonar/30"></div>
            <span class="font-mono text-xs text-slate-500">client.ts</span>
          </div>
          <span class="text-[10px] font-mono text-slate-600 tracking-wider uppercase">Quick Start</span>
        </div>
        <pre class="font-mono text-sm leading-relaxed overflow-x-auto"><code><span class="text-slate-500">// Initialize the sync engine</span>
<span class="text-sonar">import</span> <span class="text-slate-300">{ createClient }</span> <span class="text-sonar">from</span> <span class="text-teal">'@syncular/client'</span>
<span class="text-sonar">import</span> <span class="text-slate-300">{ createHttpTransport }</span> <span class="text-sonar">from</span> <span class="text-teal">'@syncular/transport-http'</span>

<span class="text-sonar">const</span> <span class="text-slate-300">client</span> <span class="text-slate-500">=</span> <span class="text-slate-300">createClient({</span>
  <span class="text-slate-400">transport:</span> <span class="text-slate-300">createHttpTransport({</span>
    <span class="text-slate-400">baseUrl:</span> <span class="text-teal">'https://api.example.com'</span>
  <span class="text-slate-300">})</span>
<span class="text-slate-300">})</span>

<span class="text-slate-500">// Write offline, sync when ready</span>
<span class="text-sonar">await</span> <span class="text-slate-300">client.mutate(</span><span class="text-teal">'todos'</span><span class="text-slate-300">, {</span>
  <span class="text-slate-400">operation:</span> <span class="text-teal">'insert'</span><span class="text-slate-300">,</span>
  <span class="text-slate-400">data:</span> <span class="text-slate-300">{</span> <span class="text-slate-400">title:</span> <span class="text-teal">'Surface at dawn'</span> <span class="text-slate-300">}</span>
<span class="text-slate-300">})</span></code></pre>
      </div>

      <!-- CTA buttons -->
      <div class="reveal flex flex-col sm:flex-row items-center justify-center gap-4">
        <a href="#" class="px-8 py-3 bg-sonar text-abyss font-bold rounded-xl hover:bg-sonar/90 transition-all shadow-lg shadow-sonar/20 text-sm">
          Read the Docs
        </a>
        <a href="#" class="px-8 py-3 border border-white/10 text-slate-300 font-medium rounded-xl hover:border-sonar/30 hover:text-white transition-all text-sm">
          View on GitHub
        </a>
      </div>
    </div>
  </section>

  <!-- ====== FOOTER ====== -->
  <footer class="border-t border-white/5 py-12 px-6">
    <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6">
      <div class="flex items-center gap-3">
        <svg viewBox="0 0 32 32" class="w-6 h-6">
          <circle cx="16" cy="16" r="3" fill="#0ea5e9" />
          <circle cx="16" cy="16" r="7" fill="none" stroke="#0ea5e9" stroke-width="1" opacity="0.5" />
          <circle cx="16" cy="16" r="12" fill="none" stroke="#0ea5e9" stroke-width="0.5" opacity="0.25" />
        </svg>
        <span class="text-sm font-bold text-white">Syncular</span>
        <span class="text-xs text-slate-600 font-mono">alpha</span>
      </div>
      <div class="flex items-center gap-6 text-xs text-slate-600">
        <a href="#" class="hover:text-sonar transition-colors">Documentation</a>
        <a href="#" class="hover:text-sonar transition-colors">GitHub</a>
        <a href="#" class="hover:text-sonar transition-colors">Discord</a>
        <span class="text-slate-700">|</span>
        <span>Built for silent operations</span>
      </div>
    </div>
  </footer>

  <!-- ====== OCEAN CANVAS SCRIPT ====== -->
  <script>
    // ---- Ocean Scene ----
    const canvas = document.getElementById('ocean');
    const ctx = canvas.getContext('2d');
    let W, H;
    let time = 0;
    let mouseX = 0, mouseY = 0;

    function resize() {
      W = canvas.width = window.innerWidth;
      H = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    // Track mouse for subtle interactivity
    window.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    // Submarine nodes
    class Submarine {
      constructor() {
        this.x = Math.random() * W;
        this.baseDepth = 0.3 + Math.random() * 0.55; // 0.3 to 0.85 of height
        this.y = H * this.baseDepth;
        this.size = 12 + Math.random() * 10;
        this.speed = 0.2 + Math.random() * 0.4;
        this.direction = Math.random() > 0.5 ? 1 : -1;
        this.phase = Math.random() * Math.PI * 2;
        this.syncTimer = Math.random() * 600 + 200; // frames until next sync
        this.syncCounter = 0;
        this.state = 'deep'; // deep, rising, syncing, diving
        this.originalY = this.y;
        this.surfaceY = H * 0.12; // where the water surface is
        this.syncDuration = 80;
        this.syncFrame = 0;
        this.sonarRings = [];
        this.workPulse = 0;
      }

      update() {
        this.workPulse += 0.05;

        // Horizontal drift
        this.x += this.speed * this.direction;
        if (this.x < -50) this.x = W + 50;
        if (this.x > W + 50) this.x = -50;

        // Gentle vertical bob
        const bob = Math.sin(time * 0.01 + this.phase) * 5;

        switch (this.state) {
          case 'deep':
            this.y = this.originalY + bob;
            this.syncCounter++;
            if (this.syncCounter >= this.syncTimer) {
              this.state = 'rising';
              this.syncCounter = 0;
            }
            break;
          case 'rising':
            this.y += (this.surfaceY - this.y) * 0.03;
            if (Math.abs(this.y - this.surfaceY) < 3) {
              this.state = 'syncing';
              this.syncFrame = 0;
              // Emit sonar ping
              this.sonarRings.push({ x: this.x, y: this.y, r: 0, opacity: 0.8 });
            }
            break;
          case 'syncing':
            this.y = this.surfaceY + Math.sin(time * 0.05) * 2;
            this.syncFrame++;
            if (this.syncFrame > this.syncDuration) {
              this.state = 'diving';
            }
            // Emit periodic pings while syncing
            if (this.syncFrame % 25 === 0) {
              this.sonarRings.push({ x: this.x, y: this.y, r: 0, opacity: 0.5 });
            }
            break;
          case 'diving':
            this.y += (this.originalY - this.y) * 0.025;
            if (Math.abs(this.y - this.originalY) < 3) {
              this.state = 'deep';
              this.syncTimer = Math.random() * 500 + 300;
            }
            break;
        }

        // Update sonar rings
        this.sonarRings = this.sonarRings.filter(ring => {
          ring.r += 1.5;
          ring.opacity -= 0.012;
          return ring.opacity > 0;
        });
      }

      draw() {
        // Draw sonar rings
        this.sonarRings.forEach(ring => {
          ctx.beginPath();
          ctx.arc(ring.x, ring.y, ring.r, 0, Math.PI * 2);
          ctx.strokeStyle = `rgba(14, 165, 233, ${ring.opacity})`;
          ctx.lineWidth = 1;
          ctx.stroke();
        });

        // Connection line to surface when near surface or syncing
        if (this.state === 'syncing' || this.state === 'rising') {
          const surfaceLine = H * 0.08;
          const grad = ctx.createLinearGradient(this.x, surfaceLine, this.x, this.y);
          grad.addColorStop(0, 'rgba(56, 189, 248, 0.3)');
          grad.addColorStop(1, 'rgba(14, 165, 233, 0.05)');
          ctx.beginPath();
          ctx.moveTo(this.x, surfaceLine);
          ctx.lineTo(this.x, this.y);
          ctx.strokeStyle = grad;
          ctx.lineWidth = 1;
          ctx.stroke();

          // Data pulses on the line
          if (this.state === 'syncing') {
            const pulseY1 = this.y - (this.y - surfaceLine) * ((this.syncFrame * 3) % 100) / 100;
            const pulseY2 = surfaceLine + (this.y - surfaceLine) * ((this.syncFrame * 3 + 50) % 100) / 100;
            ctx.beginPath();
            ctx.arc(this.x, pulseY1, 2, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(56, 189, 248, 0.8)';
            ctx.fill();
            ctx.beginPath();
            ctx.arc(this.x, pulseY2, 2, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(20, 184, 166, 0.8)';
            ctx.fill();
          }
        }

        // Submarine body
        ctx.save();
        ctx.translate(this.x, this.y);

        // Hull
        const alpha = this.state === 'syncing' ? 0.9 : 0.5 + Math.sin(this.workPulse) * 0.15;
        const color = this.state === 'syncing' ? '56, 189, 248' :
                      this.state === 'rising' || this.state === 'diving' ? '14, 165, 233' : '20, 184, 166';

        ctx.beginPath();
        ctx.ellipse(0, 0, this.size, this.size * 0.45, 0, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(10, 22, 40, 0.8)`;
        ctx.fill();
        ctx.strokeStyle = `rgba(${color}, ${alpha})`;
        ctx.lineWidth = 1.2;
        ctx.stroke();

        // Conning tower
        ctx.beginPath();
        ctx.roundRect(-3, -this.size * 0.45 - 5, 6, 7, 2);
        ctx.fillStyle = `rgba(10, 22, 40, 0.8)`;
        ctx.fill();
        ctx.strokeStyle = `rgba(${color}, ${alpha * 0.7})`;
        ctx.lineWidth = 0.8;
        ctx.stroke();

        // Working indicator light
        const lightAlpha = this.state === 'deep'
          ? 0.3 + Math.sin(this.workPulse * 2) * 0.3
          : this.state === 'syncing' ? 0.9 : 0.5;
        ctx.beginPath();
        ctx.arc(this.size * 0.5, 0, 2, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(${color}, ${lightAlpha})`;
        ctx.fill();

        // Glow around the sub
        if (this.state === 'syncing') {
          ctx.beginPath();
          ctx.ellipse(0, 0, this.size + 5, this.size * 0.45 + 5, 0, 0, Math.PI * 2);
          ctx.strokeStyle = `rgba(56, 189, 248, 0.15)`;
          ctx.lineWidth = 3;
          ctx.stroke();
        }

        ctx.restore();
      }
    }

    // Particles (plankton / deep sea particles)
    class Particle {
      constructor() {
        this.reset();
      }
      reset() {
        this.x = Math.random() * W;
        this.y = Math.random() * H;
        this.size = Math.random() * 1.5 + 0.5;
        this.speedX = (Math.random() - 0.5) * 0.3;
        this.speedY = (Math.random() - 0.5) * 0.15;
        this.opacity = Math.random() * 0.15 + 0.03;
        this.phase = Math.random() * Math.PI * 2;
      }
      update() {
        this.x += this.speedX + Math.sin(time * 0.005 + this.phase) * 0.1;
        this.y += this.speedY;
        if (this.x < -10 || this.x > W + 10 || this.y < -10 || this.y > H + 10) {
          this.reset();
        }
      }
      draw() {
        // Particles become dimmer deeper
        const depthFactor = 1 - (this.y / H) * 0.5;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(14, 165, 233, ${this.opacity * depthFactor})`;
        ctx.fill();
      }
    }

    // Initialize objects
    const submarines = [];
    const particleCount = 60;
    const particles = [];

    function initObjects() {
      submarines.length = 0;
      particles.length = 0;
      const subCount = Math.max(5, Math.floor(W / 200));
      for (let i = 0; i < subCount; i++) {
        submarines.push(new Submarine());
      }
      for (let i = 0; i < particleCount; i++) {
        particles.push(new Particle());
      }
    }
    initObjects();
    window.addEventListener('resize', () => {
      resize();
      initObjects();
    });

    // Draw water surface
    function drawSurface() {
      const surfaceY = H * 0.08;

      // Light rays from above
      for (let i = 0; i < 5; i++) {
        const rx = W * (0.15 + i * 0.18) + Math.sin(time * 0.003 + i) * 30;
        const grad = ctx.createLinearGradient(rx, 0, rx + 40, H * 0.5);
        grad.addColorStop(0, 'rgba(56, 189, 248, 0.03)');
        grad.addColorStop(1, 'rgba(56, 189, 248, 0)');
        ctx.beginPath();
        ctx.moveTo(rx - 15, 0);
        ctx.lineTo(rx + 25, 0);
        ctx.lineTo(rx + 60, H * 0.5);
        ctx.lineTo(rx - 20, H * 0.5);
        ctx.closePath();
        ctx.fillStyle = grad;
        ctx.fill();
      }

      // Surface wave
      ctx.beginPath();
      ctx.moveTo(0, surfaceY);
      for (let x = 0; x <= W; x += 3) {
        const y = surfaceY
          + Math.sin(x * 0.008 + time * 0.015) * 4
          + Math.sin(x * 0.015 + time * 0.01) * 2
          + Math.sin(x * 0.003 + time * 0.008) * 6;
        ctx.lineTo(x, y);
      }
      ctx.lineTo(W, 0);
      ctx.lineTo(0, 0);
      ctx.closePath();

      // Surface gradient (sky / above water)
      const surfGrad = ctx.createLinearGradient(0, 0, 0, surfaceY + 10);
      surfGrad.addColorStop(0, 'rgba(14, 30, 60, 0.4)');
      surfGrad.addColorStop(0.7, 'rgba(14, 40, 80, 0.2)');
      surfGrad.addColorStop(1, 'rgba(14, 165, 233, 0.05)');
      ctx.fillStyle = surfGrad;
      ctx.fill();

      // Surface line highlight
      ctx.beginPath();
      ctx.moveTo(0, surfaceY);
      for (let x = 0; x <= W; x += 3) {
        const y = surfaceY
          + Math.sin(x * 0.008 + time * 0.015) * 4
          + Math.sin(x * 0.015 + time * 0.01) * 2
          + Math.sin(x * 0.003 + time * 0.008) * 6;
        ctx.lineTo(x, y);
      }
      ctx.strokeStyle = 'rgba(56, 189, 248, 0.25)';
      ctx.lineWidth = 1.5;
      ctx.stroke();

      // Secondary wave shimmer
      ctx.beginPath();
      ctx.moveTo(0, surfaceY + 3);
      for (let x = 0; x <= W; x += 3) {
        const y = surfaceY + 3
          + Math.sin(x * 0.01 + time * 0.02 + 1) * 3
          + Math.sin(x * 0.02 + time * 0.012) * 1.5;
        ctx.lineTo(x, y);
      }
      ctx.strokeStyle = 'rgba(56, 189, 248, 0.08)';
      ctx.lineWidth = 1;
      ctx.stroke();
    }

    // Draw depth gradient
    function drawDepthGradient() {
      const grad = ctx.createLinearGradient(0, 0, 0, H);
      grad.addColorStop(0, '#0a1628');
      grad.addColorStop(0.15, '#071020');
      grad.addColorStop(0.4, '#050c18');
      grad.addColorStop(0.7, '#030810');
      grad.addColorStop(1, '#020508');
      ctx.fillStyle = grad;
      ctx.fillRect(0, 0, W, H);
    }

    // Animation loop
    function animate() {
      time++;
      ctx.clearRect(0, 0, W, H);

      drawDepthGradient();
      drawSurface();

      // Particles
      particles.forEach(p => {
        p.update();
        p.draw();
      });

      // Submarines
      submarines.forEach(sub => {
        sub.update();
        sub.draw();
      });

      requestAnimationFrame(animate);
    }
    animate();

    // ---- Scroll reveal ----
    const reveals = document.querySelectorAll('.reveal');
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });
    reveals.forEach(el => observer.observe(el));
  </script>

</body>
</html>
