<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Syncular — Gravitational Collapse</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Commit+Mono&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            display: ['"Instrument Sans"', 'system-ui', 'sans-serif'],
            mono: ['"Commit Mono"', 'monospace'],
          },
        },
      },
    };
  </script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: 'Instrument Sans', system-ui, sans-serif;
      color: #fff;
      overflow-x: hidden;
    }
    .font-mono { font-family: 'Commit Mono', monospace !important; }

    /* ── Background gradient: #111 top → #000 bottom ── */
    .bg-collapse-gradient {
      background: linear-gradient(180deg, #111 0%, #0a0a0a 30%, #050505 60%, #000 100%);
    }

    /* ── Chaos fragment styling ── */
    .chaos-fragment {
      position: absolute;
      white-space: nowrap;
      pointer-events: none;
      transition: all 2.5s cubic-bezier(0.23, 1, 0.32, 1);
      will-change: transform, opacity;
    }
    .chaos-fragment.collapsed {
      transform: translate(0, 0) rotate(0deg) scale(0.05) !important;
      opacity: 0 !important;
    }

    /* ── Singularity glow ── */
    @keyframes singularityPulse {
      0%, 100% { box-shadow: 0 0 30px rgba(255, 215, 100, 0.15), 0 0 60px rgba(255, 215, 100, 0.08), 0 0 120px rgba(255, 215, 100, 0.03); }
      50% { box-shadow: 0 0 40px rgba(255, 215, 100, 0.25), 0 0 80px rgba(255, 215, 100, 0.12), 0 0 160px rgba(255, 215, 100, 0.05); }
    }
    .singularity-glow {
      animation: singularityPulse 4s ease-in-out infinite;
    }

    /* ── Singularity dot ── */
    @keyframes dotPulse {
      0%, 100% { transform: scale(1); box-shadow: 0 0 20px rgba(255, 215, 100, 0.6), 0 0 60px rgba(255, 215, 100, 0.3); }
      50% { transform: scale(1.3); box-shadow: 0 0 30px rgba(255, 215, 100, 0.8), 0 0 80px rgba(255, 215, 100, 0.4); }
    }
    .singularity-dot {
      animation: dotPulse 3s ease-in-out infinite;
    }

    /* ── Funnel lines ── */
    @keyframes funnelDrift {
      0% { opacity: 0.1; }
      50% { opacity: 0.3; }
      100% { opacity: 0.1; }
    }

    /* ── Code syntax colors ── */
    .syn-keyword { color: #c084fc; }
    .syn-function { color: #60a5fa; }
    .syn-string { color: #34d399; }
    .syn-type { color: #fbbf24; }
    .syn-comment { color: #6b7280; }
    .syn-bracket { color: #9ca3af; }
    .syn-property { color: #f472b6; }
    .syn-variable { color: #e2e8f0; }
    .syn-operator { color: #94a3b8; }

    /* ── Scroll-triggered fade-in ── */
    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }
    .reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* ── Comparison code blocks ── */
    .code-scroll {
      max-height: 420px;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #333 transparent;
    }
    .code-scroll::-webkit-scrollbar { width: 4px; }
    .code-scroll::-webkit-scrollbar-track { background: transparent; }
    .code-scroll::-webkit-scrollbar-thumb { background: #333; border-radius: 2px; }

    /* ── Checkmark grid items ── */
    .grid-item {
      border: 1px solid #1a1a1a;
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }
    .grid-item:hover {
      border-color: #333;
      background-color: rgba(255, 255, 255, 0.02);
    }

    /* ── Canvas behind hero ── */
    #collapseCanvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* ── Nav blur ── */
    nav {
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    /* ── Testimonial card ── */
    .testimonial-border {
      background: linear-gradient(135deg, #fbbf24 0%, #c084fc 50%, #60a5fa 100%);
      padding: 1px;
      border-radius: 12px;
    }
  </style>
</head>
<body class="bg-collapse-gradient">

  <!-- ════════════════ NAV ════════════════ -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-black/60 border-b border-white/5">
    <div class="max-w-6xl mx-auto px-6 h-14 flex items-center justify-between">
      <a href="#" class="font-display font-bold text-lg tracking-tight text-white">
        syncular
      </a>
      <div class="flex items-center gap-6">
        <a href="#features" class="text-sm text-white/50 hover:text-white/90 transition-colors">Features</a>
        <a href="#comparison" class="text-sm text-white/50 hover:text-white/90 transition-colors">Compare</a>
        <a href="https://github.com/syncular/syncular" class="text-sm text-white/50 hover:text-white/90 transition-colors">GitHub</a>
        <a href="/docs" class="text-sm font-medium text-black bg-white rounded-full px-4 py-1.5 hover:bg-white/90 transition-colors">Docs</a>
      </div>
    </div>
  </nav>

  <!-- ════════════════ HERO ════════════════ -->
  <section class="relative min-h-[200vh] pt-14" id="hero">
    <canvas id="collapseCanvas"></canvas>

    <!-- ── Before Syncular: The Complexity ── -->
    <div class="relative z-10 pt-24 pb-8 text-center">
      <p class="text-xs font-mono uppercase tracking-[0.3em] text-white/30 mb-4">Before Syncular</p>
      <h2 class="font-display text-2xl sm:text-3xl font-semibold text-white/60 mb-2">Building sync from scratch?</h2>
      <p class="text-white/30 text-lg">Good luck with all of this.</p>
    </div>

    <!-- ── Chaos wall ── -->
    <div id="chaosContainer" class="relative z-10 w-full" style="height: 70vh; overflow: hidden;">
      <!-- Fragments are injected by JS -->
    </div>

    <!-- ── "6 months of work" label ── -->
    <div id="effortLabel" class="relative z-10 text-center py-8 transition-opacity duration-1000">
      <span class="inline-block font-mono text-sm bg-red-500/10 text-red-400 border border-red-500/20 rounded-full px-5 py-2">
        ~6 months of engineering &middot; 10,000+ lines &middot; still buggy
      </span>
    </div>

    <!-- ── Visual collapse zone / funnel ── -->
    <div class="relative z-10 flex flex-col items-center py-16" id="collapseZone">
      <!-- Funnel SVG -->
      <svg width="200" height="160" viewBox="0 0 200 160" class="opacity-20" id="funnelSvg">
        <line x1="10" y1="0" x2="95" y2="150" stroke="url(#funnelGrad)" stroke-width="0.5" />
        <line x1="40" y1="0" x2="97" y2="150" stroke="url(#funnelGrad)" stroke-width="0.5" />
        <line x1="70" y1="0" x2="99" y2="150" stroke="url(#funnelGrad)" stroke-width="0.5" />
        <line x1="130" y1="0" x2="101" y2="150" stroke="url(#funnelGrad)" stroke-width="0.5" />
        <line x1="160" y1="0" x2="103" y2="150" stroke="url(#funnelGrad)" stroke-width="0.5" />
        <line x1="190" y1="0" x2="105" y2="150" stroke="url(#funnelGrad)" stroke-width="0.5" />
        <defs>
          <linearGradient id="funnelGrad" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0%" stop-color="#ffffff" stop-opacity="0.3" />
            <stop offset="100%" stop-color="#fbbf24" stop-opacity="0.8" />
          </linearGradient>
        </defs>
      </svg>

      <!-- Singularity dot -->
      <div class="singularity-dot w-3 h-3 rounded-full bg-amber-300 mt-2 mb-12"></div>
    </div>

    <!-- ── After Syncular: The Singularity ── -->
    <div class="relative z-10 text-center mb-6" id="afterLabel">
      <p class="text-xs font-mono uppercase tracking-[0.3em] text-amber-400/60 mb-4">After Syncular</p>
      <h2 class="font-display text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3">
        Just <span class="text-amber-300">4 lines</span>.
      </h2>
      <p class="text-white/40 text-lg max-w-md mx-auto">Everything above collapsed into this.</p>
    </div>

    <!-- ── Singularity code block ── -->
    <div class="relative z-10 flex justify-center px-6 mb-16" id="singularityCode">
      <div class="singularity-glow rounded-xl bg-black border border-amber-400/15 p-6 sm:p-8 max-w-xl w-full">
        <div class="flex items-center gap-2 mb-4">
          <div class="w-2.5 h-2.5 rounded-full bg-white/10"></div>
          <div class="w-2.5 h-2.5 rounded-full bg-white/10"></div>
          <div class="w-2.5 h-2.5 rounded-full bg-white/10"></div>
          <span class="ml-auto font-mono text-xs text-white/20">app.ts</span>
        </div>
        <pre class="font-mono text-sm leading-relaxed"><code><span class="syn-keyword">import</span> <span class="syn-bracket">{</span> <span class="syn-function">createClient</span> <span class="syn-bracket">}</span> <span class="syn-keyword">from</span> <span class="syn-string">'@syncular/client'</span>

<span class="syn-keyword">const</span> <span class="syn-variable">db</span> <span class="syn-operator">=</span> <span class="syn-function">createClient</span><span class="syn-bracket">(</span><span class="syn-bracket">{</span> <span class="syn-property">schema</span><span class="syn-bracket">,</span> <span class="syn-property">transport</span> <span class="syn-bracket">}</span><span class="syn-bracket">)</span>

<span class="syn-keyword">await</span> <span class="syn-variable">db</span>.<span class="syn-function">insertInto</span><span class="syn-bracket">(</span><span class="syn-string">'todos'</span><span class="syn-bracket">)</span>
  .<span class="syn-function">values</span><span class="syn-bracket">(</span><span class="syn-bracket">{</span> <span class="syn-property">title</span><span class="syn-operator">:</span> <span class="syn-string">'Ship it'</span> <span class="syn-bracket">}</span><span class="syn-bracket">)</span>
  .<span class="syn-function">execute</span><span class="syn-bracket">(</span><span class="syn-bracket">)</span></code></pre>
      </div>
    </div>

    <!-- ── Tagline ── -->
    <div class="relative z-10 text-center pb-32 px-6">
      <p class="font-display text-xl sm:text-2xl text-white/50 max-w-lg mx-auto leading-relaxed">
        All the complexity. <span class="text-white">None of the code.</span>
      </p>
      <p class="font-mono text-sm text-white/20 mt-4">
        Gravitational collapse. From 10,000 lines to 4.
      </p>
    </div>
  </section>

  <!-- ════════════════ WHAT COLLAPSED INTO THOSE 4 LINES ════════════════ -->
  <section class="relative py-32 px-6" id="features">
    <div class="max-w-5xl mx-auto">
      <div class="text-center mb-16 reveal">
        <p class="text-xs font-mono uppercase tracking-[0.3em] text-amber-400/50 mb-4">Under the hood</p>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-white mb-3">What collapsed into those 4 lines</h2>
        <p class="text-white/40 max-w-lg mx-auto">Every problem from the chaos wall, solved and packaged. You get all of it out of the box.</p>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 reveal">
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Offline-first SQLite</h3>
          <p class="text-white/30 text-xs leading-relaxed">Local-first reads and writes. Works without a network. Syncs when connected.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Commit-log sync</h3>
          <p class="text-white/30 text-xs leading-relaxed">Ordered, append-only change log. Push and pull deltas efficiently.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Conflict resolution</h3>
          <p class="text-white/30 text-xs leading-relaxed">Last-write-wins by default, custom strategies when you need them.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Scoped auth</h3>
          <p class="text-white/30 text-xs leading-relaxed">Row-level security scopes. Each client sees only what they should.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Blob storage</h3>
          <p class="text-white/30 text-xs leading-relaxed">Upload and sync files alongside your data. Chunked, resumable transfers.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Real-time</h3>
          <p class="text-white/30 text-xs leading-relaxed">WebSocket wake-ups with presence. Instant push to all connected clients.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">E2E Encryption</h3>
          <p class="text-white/30 text-xs leading-relaxed">Client-side encryption plugin. Zero-knowledge server. Key sharing built in.</p>
        </div>
        <div class="grid-item rounded-xl p-5 bg-white/[0.02]">
          <div class="text-amber-400 text-lg mb-2">&#10003;</div>
          <h3 class="font-display font-semibold text-white text-sm mb-1">Snapshot bootstrap</h3>
          <p class="text-white/30 text-xs leading-relaxed">New clients catch up instantly with chunked snapshots instead of replaying history.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════ CODE COMPARISON ════════════════ -->
  <section class="relative py-32 px-6" id="comparison">
    <div class="max-w-6xl mx-auto">
      <div class="text-center mb-16 reveal">
        <p class="text-xs font-mono uppercase tracking-[0.3em] text-amber-400/50 mb-4">Side by side</p>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-white mb-3">The before and after</h2>
        <p class="text-white/40 max-w-lg mx-auto">The same feature. Two very different amounts of code.</p>
      </div>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 reveal">
        <!-- Without Syncular -->
        <div class="rounded-xl border border-red-500/10 bg-red-500/[0.02] overflow-hidden">
          <div class="flex items-center justify-between px-5 py-3 border-b border-red-500/10">
            <span class="font-mono text-xs text-red-400/70">Without Syncular</span>
            <span class="font-mono text-xs text-red-400/40">~140 lines</span>
          </div>
          <div class="code-scroll p-5">
            <pre class="font-mono text-xs leading-relaxed text-white/40"><code><span class="syn-comment">// 1. Set up IndexedDB for offline queue</span>
<span class="syn-keyword">const</span> dbRequest = indexedDB.open('myapp', 1)
dbRequest.onupgradeneeded = (e) => {
  <span class="syn-keyword">const</span> db = e.target.result
  db.createObjectStore('outbox', { keyPath: 'id' })
  db.createObjectStore('cache', { keyPath: 'key' })
}

<span class="syn-comment">// 2. Offline queue with retry</span>
<span class="syn-keyword">class</span> OfflineQueue {
  <span class="syn-keyword">async</span> enqueue(mutation) {
    <span class="syn-keyword">const</span> tx = this.db.transaction('outbox', 'readwrite')
    <span class="syn-keyword">await</span> tx.objectStore('outbox').add({
      id: crypto.randomUUID(),
      mutation,
      retries: 0,
      createdAt: Date.now()
    })
  }

  <span class="syn-keyword">async</span> flush() {
    <span class="syn-keyword">const</span> pending = <span class="syn-keyword">await</span> this.getAll()
    <span class="syn-keyword">for</span> (<span class="syn-keyword">const</span> item <span class="syn-keyword">of</span> pending) {
      <span class="syn-keyword">try</span> {
        <span class="syn-keyword">await</span> this.send(item.mutation)
        <span class="syn-keyword">await</span> this.remove(item.id)
      } <span class="syn-keyword">catch</span> (err) {
        item.retries++
        <span class="syn-keyword">const</span> delay = Math.min(
          1000 * Math.pow(2, item.retries), 30000
        )
        <span class="syn-keyword">await</span> this.updateRetry(item)
        <span class="syn-keyword">await</span> sleep(delay)
      }
    }
  }
}

<span class="syn-comment">// 3. WebSocket with reconnection</span>
<span class="syn-keyword">class</span> RealtimeConnection {
  connect() {
    this.ws = <span class="syn-keyword">new</span> WebSocket(this.url)
    this.ws.onclose = () => {
      this.reconnectAttempts++
      <span class="syn-keyword">const</span> delay = Math.min(
        1000 * Math.pow(2, this.reconnectAttempts),
        30000
      )
      setTimeout(() => this.connect(), delay)
    }
    this.ws.onmessage = (msg) => {
      <span class="syn-keyword">const</span> data = JSON.parse(msg.data)
      <span class="syn-keyword">if</span> (data.type === 'sync') {
        this.applyRemoteChanges(data.changes)
      }
    }
    this.ws.onerror = () => this.ws.close()
  }

  applyRemoteChanges(changes) {
    <span class="syn-keyword">for</span> (<span class="syn-keyword">const</span> change <span class="syn-keyword">of</span> changes) {
      <span class="syn-keyword">const</span> local = this.cache.get(change.key)
      <span class="syn-keyword">if</span> (local && local.updatedAt > change.updatedAt) {
        <span class="syn-comment">// conflict! manual resolution...</span>
        this.resolveConflict(local, change)
      } <span class="syn-keyword">else</span> {
        this.cache.set(change.key, change)
      }
    }
    this.notifySubscribers()
  }

  resolveConflict(local, remote) {
    <span class="syn-comment">// Last-write-wins? Merge? App-specific?</span>
    <span class="syn-comment">// You need to decide and implement this</span>
    <span class="syn-comment">// for every table and every field...</span>
  }
}

<span class="syn-comment">// 4. Optimistic updates</span>
<span class="syn-keyword">async function</span> createTodo(title) {
  <span class="syn-keyword">const</span> optimisticId = crypto.randomUUID()
  <span class="syn-keyword">const</span> todo = { id: optimisticId, title, status: 'pending' }

  <span class="syn-comment">// Update UI immediately</span>
  cache.set(optimisticId, todo)
  notifySubscribers()

  <span class="syn-keyword">try</span> {
    <span class="syn-keyword">const</span> result = <span class="syn-keyword">await</span> api.post('/todos', todo)
    <span class="syn-comment">// Replace optimistic entry with server response</span>
    cache.delete(optimisticId)
    cache.set(result.id, result)
  } <span class="syn-keyword">catch</span> (err) {
    <span class="syn-keyword">if</span> (!navigator.onLine) {
      queue.enqueue({ type: 'create', table: 'todos', data: todo })
    } <span class="syn-keyword">else</span> {
      <span class="syn-comment">// Rollback optimistic update</span>
      cache.delete(optimisticId)
      notifySubscribers()
      showError(err)
    }
  }
}

<span class="syn-comment">// 5. Auth-scoped subscriptions (server side)</span>
<span class="syn-comment">// 6. Delta compression</span>
<span class="syn-comment">// 7. Schema migrations</span>
<span class="syn-comment">// 8. Blob upload/download</span>
<span class="syn-comment">// 9. Snapshot bootstrapping</span>
<span class="syn-comment">// ... another 800 lines you haven't written yet</span></code></pre>
          </div>
        </div>

        <!-- With Syncular -->
        <div class="rounded-xl border border-amber-400/15 bg-amber-400/[0.02] overflow-hidden flex flex-col">
          <div class="flex items-center justify-between px-5 py-3 border-b border-amber-400/10">
            <span class="font-mono text-xs text-amber-400/70">With Syncular</span>
            <span class="font-mono text-xs text-amber-400/40">5 lines</span>
          </div>
          <div class="p-5 flex-1 flex items-center">
            <pre class="font-mono text-sm leading-relaxed"><code><span class="syn-keyword">import</span> <span class="syn-bracket">{</span> <span class="syn-function">createClient</span> <span class="syn-bracket">}</span> <span class="syn-keyword">from</span> <span class="syn-string">'@syncular/client'</span>

<span class="syn-keyword">const</span> <span class="syn-variable">db</span> <span class="syn-operator">=</span> <span class="syn-function">createClient</span><span class="syn-bracket">(</span><span class="syn-bracket">{</span> <span class="syn-property">schema</span><span class="syn-bracket">,</span> <span class="syn-property">transport</span> <span class="syn-bracket">}</span><span class="syn-bracket">)</span>

<span class="syn-keyword">await</span> <span class="syn-variable">db</span>.<span class="syn-function">insertInto</span><span class="syn-bracket">(</span><span class="syn-string">'todos'</span><span class="syn-bracket">)</span>
  .<span class="syn-function">values</span><span class="syn-bracket">(</span><span class="syn-bracket">{</span> <span class="syn-property">title</span><span class="syn-operator">:</span> <span class="syn-string">'Ship it'</span> <span class="syn-bracket">}</span><span class="syn-bracket">)</span>
  .<span class="syn-function">execute</span><span class="syn-bracket">(</span><span class="syn-bracket">)</span>

<span class="syn-comment">// That's it. Offline queue, sync, conflicts,</span>
<span class="syn-comment">// real-time, auth scoping, blob storage --</span>
<span class="syn-comment">// all handled. Ship today, not in 6 months.</span></code></pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════ TESTIMONIAL ════════════════ -->
  <section class="relative py-24 px-6">
    <div class="max-w-2xl mx-auto reveal">
      <div class="testimonial-border">
        <div class="bg-black rounded-xl p-8 sm:p-10 text-center">
          <p class="font-display text-lg sm:text-xl text-white/80 leading-relaxed mb-6 italic">
            "I replaced 3 services and 2,000 lines of sync infrastructure with one import. The offline support just worked. I shipped in a week what would have taken me a quarter."
          </p>
          <div class="flex items-center justify-center gap-3">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-purple-500 flex items-center justify-center text-xs font-bold text-black">
              D
            </div>
            <div class="text-left">
              <p class="text-sm font-medium text-white/70">A developer, probably</p>
              <p class="text-xs text-white/30">Somewhere with bad WiFi</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ════════════════ INSTALL ════════════════ -->
  <section class="relative py-32 px-6">
    <div class="max-w-xl mx-auto text-center reveal">
      <p class="text-xs font-mono uppercase tracking-[0.3em] text-amber-400/50 mb-6">Get started</p>
      <h2 class="font-display text-3xl sm:text-4xl font-bold text-white mb-4">Collapse your complexity</h2>
      <p class="text-white/40 mb-10">One command. Everything you need for offline-first sync.</p>
      <div class="inline-block bg-white/[0.03] border border-white/10 rounded-xl px-6 py-4 mb-8">
        <code class="font-mono text-sm sm:text-base">
          <span class="text-white/40">$</span>
          <span class="text-amber-300 ml-2">bun add @syncular/client @syncular/server</span>
        </code>
      </div>
      <div class="flex items-center justify-center gap-4">
        <a href="/docs" class="font-display text-sm font-medium text-black bg-white rounded-full px-6 py-2.5 hover:bg-white/90 transition-colors">
          Read the docs
        </a>
        <a href="https://github.com/syncular/syncular" class="font-display text-sm font-medium text-white/60 border border-white/10 rounded-full px-6 py-2.5 hover:border-white/25 hover:text-white/80 transition-colors">
          View on GitHub
        </a>
      </div>
    </div>
  </section>

  <!-- ════════════════ FOOTER ════════════════ -->
  <footer class="border-t border-white/5 py-10 px-6">
    <div class="max-w-5xl mx-auto flex flex-col sm:flex-row items-center justify-between gap-4">
      <span class="font-display font-bold text-sm text-white/30">syncular</span>
      <div class="flex items-center gap-6">
        <a href="/docs" class="text-xs text-white/20 hover:text-white/50 transition-colors">Docs</a>
        <a href="https://github.com/syncular/syncular" class="text-xs text-white/20 hover:text-white/50 transition-colors">GitHub</a>
        <a href="#" class="text-xs text-white/20 hover:text-white/50 transition-colors">Discord</a>
      </div>
      <span class="text-xs text-white/15 font-mono">MIT License</span>
    </div>
  </footer>

  <!-- ════════════════ SCRIPTS ════════════════ -->
  <script>
    // ── Chaos fragments data ──
    const fragments = [
      { text: 'WebSocket reconnection logic', color: '#f87171', size: 'text-sm' },
      { text: 'Conflict resolution', color: '#fb923c', size: 'text-base' },
      { text: 'Offline queue management', color: '#fbbf24', size: 'text-sm' },
      { text: 'Optimistic updates', color: '#a3e635', size: 'text-xs' },
      { text: 'Server-side auth filtering', color: '#34d399', size: 'text-sm' },
      { text: 'Delta compression', color: '#22d3ee', size: 'text-xs' },
      { text: 'Retry with exponential backoff', color: '#60a5fa', size: 'text-sm' },
      { text: 'Schema migrations', color: '#818cf8', size: 'text-xs' },
      { text: 'Real-time subscriptions', color: '#c084fc', size: 'text-base' },
      { text: 'Blob upload / download', color: '#e879f9', size: 'text-sm' },
      { text: 'Snapshot bootstrapping', color: '#f472b6', size: 'text-xs' },
      { text: 'Commit ordering', color: '#fb7185', size: 'text-xs' },
      { text: 'Row-level security', color: '#f97316', size: 'text-sm' },
      { text: 'function resolveConflict(a, b) {', color: '#6b7280', size: 'text-xs' },
      { text: 'if (!navigator.onLine) {', color: '#6b7280', size: 'text-xs' },
      { text: 'ws.onclose = () => reconnect()', color: '#6b7280', size: 'text-xs' },
      { text: 'Math.pow(2, retries) * 1000', color: '#6b7280', size: 'text-xs' },
      { text: 'indexedDB.open("outbox", 1)', color: '#6b7280', size: 'text-xs' },
      { text: 'Cursor pagination', color: '#a78bfa', size: 'text-xs' },
      { text: 'Presence & awareness', color: '#2dd4bf', size: 'text-xs' },
      { text: 'Encryption key exchange', color: '#fcd34d', size: 'text-xs' },
      { text: 'async flush() { for (const op of queue)', color: '#6b7280', size: 'text-xs' },
      { text: 'Change data capture', color: '#86efac', size: 'text-xs' },
      { text: 'Tombstone cleanup', color: '#93c5fd', size: 'text-xs' },
      { text: 'Vector clocks', color: '#d8b4fe', size: 'text-xs' },
      { text: 'Multi-tab coordination', color: '#fda4af', size: 'text-xs' },
    ];

    // ── Create chaos fragments ──
    const container = document.getElementById('chaosContainer');
    const containerRect = container.getBoundingClientRect();
    const fragElements = [];

    fragments.forEach((frag, i) => {
      const el = document.createElement('div');
      el.className = `chaos-fragment font-mono ${frag.size}`;
      el.textContent = frag.text;
      el.style.color = frag.color;
      el.style.opacity = 0.15 + Math.random() * 0.55;

      // Scatter across the container
      const x = 5 + Math.random() * 85; // percentage
      const y = 5 + Math.random() * 85;
      const rotation = -18 + Math.random() * 36;

      el.style.left = x + '%';
      el.style.top = y + '%';
      el.style.transform = `rotate(${rotation}deg)`;
      el.dataset.origX = x;
      el.dataset.origY = y;
      el.dataset.origRot = rotation;

      container.appendChild(el);
      fragElements.push(el);
    });

    // ── Collapse animation on scroll ──
    let hasCollapsed = false;

    function checkCollapse() {
      const collapseZone = document.getElementById('collapseZone');
      const rect = collapseZone.getBoundingClientRect();
      const triggerPoint = window.innerHeight * 0.7;

      if (rect.top < triggerPoint && !hasCollapsed) {
        hasCollapsed = true;
        triggerCollapse();
      }
      if (rect.top > window.innerHeight && hasCollapsed) {
        hasCollapsed = false;
        resetFragments();
      }
    }

    function triggerCollapse() {
      const collapseZone = document.getElementById('collapseZone');
      const containerRect = container.getBoundingClientRect();
      const zoneRect = collapseZone.getBoundingClientRect();

      // Target: center of the singularity dot relative to the chaos container
      const targetX = 50; // center %
      const targetY = ((zoneRect.top + zoneRect.height / 2) - containerRect.top) / containerRect.height * 100;

      fragElements.forEach((el, i) => {
        setTimeout(() => {
          el.style.transition = `all ${1.5 + Math.random() * 1.5}s cubic-bezier(0.23, 1, 0.32, 1)`;
          el.style.left = targetX + '%';
          el.style.top = Math.min(targetY, 95) + '%';
          el.style.transform = 'rotate(0deg) scale(0.02)';
          el.style.opacity = '0';
        }, i * 40);
      });
    }

    function resetFragments() {
      fragElements.forEach((el) => {
        el.style.transition = 'all 0.8s ease-out';
        el.style.left = el.dataset.origX + '%';
        el.style.top = el.dataset.origY + '%';
        el.style.transform = `rotate(${el.dataset.origRot}deg)`;
        el.style.opacity = 0.15 + Math.random() * 0.55;
      });
    }

    window.addEventListener('scroll', checkCollapse, { passive: true });

    // ── Canvas: gravitational field lines ──
    const canvas = document.getElementById('collapseCanvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    let animFrame;

    function resizeCanvas() {
      const hero = document.getElementById('hero');
      canvas.width = hero.offsetWidth;
      canvas.height = hero.offsetHeight;
    }

    function initParticles() {
      particles = [];
      const count = Math.min(80, Math.floor(canvas.width / 20));
      for (let i = 0; i < count; i++) {
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height * 0.5,
          vx: (Math.random() - 0.5) * 0.3,
          vy: 0.2 + Math.random() * 0.5,
          size: 0.5 + Math.random() * 1.5,
          opacity: 0.05 + Math.random() * 0.15,
          color: ['#f87171', '#fbbf24', '#34d399', '#60a5fa', '#c084fc', '#e879f9'][Math.floor(Math.random() * 6)]
        });
      }
    }

    function drawParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Singularity attractor point (center-bottom of hero)
      const attractorX = canvas.width / 2;
      const attractorY = canvas.height * 0.62;

      particles.forEach(p => {
        // Gravitational pull toward attractor
        const dx = attractorX - p.x;
        const dy = attractorY - p.y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        const force = Math.min(0.02, 800 / (dist * dist));

        p.vx += dx * force * 0.01;
        p.vy += dy * force * 0.01;

        // Dampen
        p.vx *= 0.99;
        p.vy *= 0.99;

        p.x += p.vx;
        p.y += p.vy;

        // Reset if too close to attractor or out of bounds
        if (dist < 5 || p.y > canvas.height || p.x < -50 || p.x > canvas.width + 50) {
          p.x = Math.random() * canvas.width;
          p.y = Math.random() * canvas.height * 0.3;
          p.vx = (Math.random() - 0.5) * 0.3;
          p.vy = 0.2 + Math.random() * 0.5;
        }

        // Fade opacity as they approach
        const proximityFade = Math.max(0.02, Math.min(p.opacity, dist / 200));

        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fillStyle = p.color;
        ctx.globalAlpha = proximityFade;
        ctx.fill();
      });

      ctx.globalAlpha = 1;
      animFrame = requestAnimationFrame(drawParticles);
    }

    resizeCanvas();
    initParticles();
    drawParticles();
    window.addEventListener('resize', () => {
      resizeCanvas();
      initParticles();
    });

    // ── Scroll-triggered reveals ──
    const revealEls = document.querySelectorAll('.reveal');
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });

    revealEls.forEach(el => revealObserver.observe(el));

    // ── Initial collapse check (in case page loads mid-scroll) ──
    setTimeout(checkCollapse, 300);
  </script>
</body>
</html>
